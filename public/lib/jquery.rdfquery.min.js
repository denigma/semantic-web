(function(c){var d={},a=/^(([a-z][\-a-z0-9+\.]*):)?(\/\/([^\/?#]+))?([^?#]*)?(\?([^#]*))?(#(.*))?$/i,g,b=function(j){var h=j.match(a);if(h===null){throw"Malformed URI: "+j}return{scheme:h[1]?h[2].toLowerCase():undefined,authority:h[3]?h[4]:undefined,path:h[5]||"",query:h[6]?h[7]:undefined,fragment:h[8]?h[9]:undefined}},f=function(j){var k="",h=[];if(/\./.test(j)){while(j!==undefined&&j!==""){if(j==="."||j===".."){j=""}else{if(/^\.\.\//.test(j)){j=j.substring(3)}else{if(/^\.\//.test(j)){j=j.substring(2)}else{if(/^\/\.(\/|$)/.test(j)){j="/"+j.substring(3)}else{if(/^\/\.\.(\/|$)/.test(j)){j="/"+j.substring(4);k=k.replace(/\/?[^\/]+$/,"")}else{h=j.match(/^(\/?[^\/]*)(\/.*)?$/);j=h[2];k=k+h[1]}}}}}}return k}else{return j}},e=function(h,j){if(h.authority!==""&&(h.path===undefined||h.path==="")){return"/"+j}else{return h.path.replace(/[^\/]+$/,"")+j}};c.uri=function(k,j){var h;k=k||"";if(d[k]){return d[k]}j=j||c.uri.base();if(typeof j==="string"){j=c.uri.absolute(j)}h=new c.uri.fn.init(k,j);if(d[h]){return d[h]}else{d[h]=h;return h}};c.uri.fn=c.uri.prototype={scheme:undefined,authority:undefined,path:undefined,query:undefined,fragment:undefined,init:function(k,j){var h={};j=j||{};c.extend(this,b(k));if(this.scheme===undefined){this.scheme=j.scheme;if(this.authority!==undefined){this.path=f(this.path)}else{this.authority=j.authority;if(this.path===""){this.path=j.path;if(this.query===undefined){this.query=j.query}}else{if(!/^\//.test(this.path)){this.path=e(j,this.path)}this.path=f(this.path)}}}if(this.scheme===undefined){throw"Malformed URI: URI is not an absolute URI and no base supplied: "+k}return this},resolve:function(h){return c.uri(h,this)},relative:function(q){var n,o,m=0,k,l=[],h="";if(typeof q==="string"){q=c.uri(q,{})}if(q.scheme!==this.scheme||q.authority!==this.authority){return q.toString()}if(q.path!==this.path){n=q.path.split("/");o=this.path.split("/");if(n[1]!==o[1]){h=q.path}else{while(n[m]===o[m]){m+=1}k=m;for(;m<o.length-1;m+=1){l.push("..")}for(;k<n.length;k+=1){l.push(n[k])}h=l.join("/")}h=q.query===undefined?h:h+"?"+q.query;h=q.fragment===undefined?h:h+"#"+q.fragment;return h}if(q.query!==undefined&&q.query!==this.query){return"?"+q.query+(q.fragment===undefined?"":"#"+q.fragment)}if(q.fragment!==undefined&&q.fragment!==this.fragment){return"#"+q.fragment}return""},toString:function(){var h="";if(this._string){return this._string}else{h=this.scheme===undefined?h:(h+this.scheme+":");h=this.authority===undefined?h:(h+"//"+this.authority);h=h+this.path;h=this.query===undefined?h:(h+"?"+this.query);h=this.fragment===undefined?h:(h+"#"+this.fragment);this._string=h;return h}}};c.uri.fn.init.prototype=c.uri.fn;c.uri.absolute=function(h){return c.uri(h,{})};c.uri.resolve=function(j,h){return c.uri(j,h)};c.uri.relative=function(j,h){return c.uri(h,{}).relative(j)};c.uri.base=function(){return c(document).base()};c.fn.base=function(){var h=c(this).parents().andSelf().find("base").attr("href"),j=c(this)[0].ownerDocument||document,k=c.uri.absolute(j.location===null?document.location.href:j.location.href);return h===undefined?k:c.uri(h,k)}})(jQuery);(function(e){var a="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",c=/\sxmlns(?::([^ =]+))?\s*=\s*(?:"([^"]*)"|'([^']*)')/g,f="[-A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u10000-\uEFFFF.0-9\u00B7\u0300-\u036F\u203F-\u2040]",b="[\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0131\u0134-\u013E\u0141-\u0148\u014A-\u017E\u0180-\u01C3\u01CD-\u01F0\u01F4-\u01F5\u01FA-\u0217\u0250-\u02A8\u02BB-\u02C1\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03D6\u03DA\u03DC\u03DE\u03E0\u03E2-\u03F3\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E-\u0481\u0490-\u04C4\u04C7-\u04C8\u04CB-\u04CC\u04D0-\u04EB\u04EE-\u04F5\u04F8-\u04F9\u0531-\u0556\u0559\u0561-\u0586\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0641-\u064A\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D3\u06D5\u06E5-\u06E6\u0905-\u0939\u093D\u0958-\u0961\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8B\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AE0\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B36-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0E01-\u0E2E\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EAE\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0F40-\u0F47\u0F49-\u0F69\u10A0-\u10C5\u10D0-\u10F6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110B-\u110C\u110E-\u1112\u113C\u113E\u1140\u114C\u114E\u1150\u1154-\u1155\u1159\u115F-\u1161\u1163\u1165\u1167\u1169\u116D-\u116E\u1172-\u1173\u1175\u119E\u11A8\u11AB\u11AE-\u11AF\u11B7-\u11B8\u11BA\u11BC-\u11C2\u11EB\u11F0\u11F9\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u212E\u2180-\u2182\u3041-\u3094\u30A1-\u30FA\u3105-\u312C\uAC00-\uD7A3\u4E00-\u9FA5\u3007\u3021-\u3029_]",d=new RegExp("^"+b+f+"*$");e.fn.xmlns=function(m,j,n){var k=this.eq(0),r=k.data("xmlns"),o=k[0],s,h,l,q=m?"xmlns:"+m:"xmlns",t,w,u=false;if(j===undefined){if(m===undefined){if(r===undefined){r={};if(o.attributes&&o.attributes.getNamedItemNS){for(l=0;l<o.attributes.length;l+=1){s=o.attributes[l];if(/^xmlns(:(.+))?$/.test(s.nodeName)){m=/^xmlns(:(.+))?$/.exec(s.nodeName)[2]||"";t=s.nodeValue;if(m===""||(t!==""&&t!==a&&t!==g&&d.test(m)&&m!=="xml"&&m!=="xmlns")){r[m]=e.uri(s.nodeValue);u=true}}}}else{w=/<[^>]+>/.exec(o.outerHTML);s=c.exec(w);while(s!==null){m=s[1]||"";t=s[2]||s[3];if(m===""||(t!==""&&t!==a&&t!==g&&d.test(m)&&m!=="xml"&&m!=="xmlns")){r[m]=e.uri(s[2]||s[3]);u=true}s=c.exec(w)}c.lastIndex=0}n=n||(o.parentNode.nodeType===1?k.parent().xmlns():{});r=u?e.extend({},n,r):n;k.data("xmlns",r)}return r}else{if(typeof m==="object"){for(h in m){if(typeof m[h]==="string"&&d.test(h)){this.xmlns(h,m[h])}}this.find("*").andSelf().removeData("xmlns");return this}else{if(r===undefined){r=k.xmlns()}return r[m]}}}else{this.find("*").andSelf().removeData("xmlns");return this.attr(q,j)}};e.fn.removeXmlns=function(k){var h,l,j;if(typeof k==="object"){if(k.length===undefined){for(l in k){if(typeof k[l]==="string"){this.removeXmlns(l)}}}else{for(j=0;j<k.length;j+=1){this.removeXmlns(k[j])}}}else{h=k?"xmlns:"+k:"xmlns";this.removeAttr(h)}this.find("*").andSelf().removeData("xmlns");return this};e.fn.qname=function(j){var h,l,k;if(j===undefined){if(this[0].outerHTML===undefined){j=this[0].nodeName.toLowerCase()}else{j=/<([^ >]+)/.exec(this[0].outerHTML)[1].toLowerCase()}}if(j==="?xml:namespace"){throw"XMLinHTML: Unable to get the prefix to resolve the name of this element"}h=/^(([^:]+):)?([^:]+)$/.exec(j);l=h[2]||"";k=this.xmlns(l);if(k===undefined&&l!==""){throw"MalformedQName: The prefix "+l+" is not declared"}return{namespace:k,localPart:h[3],prefix:l,name:j}}})(jQuery);(function(b){var a=function(c){return c.replace(/[ \t\n\r]+/," ").replace(/^ +/,"").replace(/ +$/,"")};b.typedValue=function(d,c){return b.typedValue.fn.init(d,c)};b.typedValue.fn=b.typedValue.prototype={representation:undefined,value:undefined,datatype:undefined,init:function(e,c){var f=b.typedValue.types[c];if(b.typedValue.valid(e,c)){this.representation=e;this.datatype=c;this.value=f===undefined?a(e):f.value(f.strip?a(e):e);return this}else{throw {name:"InvalidValue",message:e+" is not a valid "+c+" value"}}}};b.typedValue.fn.init.prototype=b.typedValue.fn;b.typedValue.types={};b.typedValue.types["http://www.w3.org/2001/XMLSchema#string"]={regex:/^.*$/,strip:false,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#token"]={regex:/^.*$/,strip:true,value:function(c){return a(c)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#NCName"]={regex:/^[a-z_][-\.a-z0-9]+$/i,strip:true,value:function(c){return a(c)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#boolean"]={regex:/^(?:true|false|1|0)$/,strip:true,value:function(c){return c==="true"||c==="1"}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#decimal"]={regex:/^[\-\+]?(?:[0-9]+\.[0-9]*|\.[0-9]+|[0-9]+)$/,strip:true,value:function(c){c=c.replace(/^0+/,"").replace(/0+$/,"");if(c===""){c="0.0"}if(c.substring(0,1)==="."){c="0"+c}if(/\.$/.test(c)){c=c+"0"}else{if(!/\./.test(c)){c=c+".0"}}return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#integer"]={regex:/^[\-\+]?[0-9]+$/,strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#int"]={regex:/^[\-\+]?[0-9]+$/,strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"]={regex:/^(?:[\-\+]?(?:[0-9]+\.[0-9]*|\.[0-9]+|[0-9]+)(?:[eE][\-\+]?[0-9]+)?|[\-\+]?INF|NaN)$/,strip:true,value:function(c){if(c==="-INF"){return -1/0}else{if(c==="INF"||c==="+INF"){return 1/0}else{return parseFloat(c)}}}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#double"]={regex:b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"].regex,strip:true,value:b.typedValue.types["http://www.w3.org/2001/XMLSchema#float"].value};b.typedValue.types["http://www.w3.org/2001/XMLSchema#duration"]={regex:/^([\-\+])?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:([0-9]+(?:\.[0-9]+))?S)?)$/,validate:function(d){var c=this.regex.exec(d);return c[2]||c[3]||c[4]||c[5]||c[6]||c[7]},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#yearMonthDuration"]={regex:/^([\-\+])?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/,validate:function(d){var c=this.regex.exec(d);return c[2]||c[3]},strip:true,value:function(e){var d=this.regex.exec(e),f=d[2]||0,c=d[3]||0;c+=f*12;return d[1]==="-"?-1*c:c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#dateTime"]={regex:/^(-?[0-9]{4,})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):(([0-9]{2})(\.([0-9]+))?)((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(d){var c=this.regex.exec(d),g=parseInt(c[1],10),j=c[10]===undefined||c[10]==="Z"?"+0000":c[10].replace(/:/,""),f;if(g===0||parseInt(j,10)<-1400||parseInt(j,10)>1400){return false}try{g=g<100?Math.abs(g)+1000:g;month=parseInt(c[2],10);day=parseInt(c[3],10);if(day>31){return false}else{if(day>30&&!(month===1||month===3||month===5||month===7||month===8||month===10||month===12)){return false}else{if(month===2){if(day>29){return false}else{if(day===29&&(g%4!==0||(g%100===0&&g%400!==0))){return false}}}}}f=""+g+"/"+c[2]+"/"+c[3]+" "+c[4]+":"+c[5]+":"+c[7]+" "+j;f=new Date(f);return true}catch(h){return false}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#date"]={regex:/^(-?[0-9]{4,})-([0-9]{2})-([0-9]{2})((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var c=this.regex.exec(e),f=parseInt(c[1],10),g=parseInt(c[2],10),d=parseInt(c[3],10),h=c[10]===undefined||c[10]==="Z"?"+0000":c[10].replace(/:/,"");if(f===0||g>12||d>31||parseInt(h,10)<-1400||parseInt(h,10)>1400){return false}else{return true}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#gYear"]={regex:/^-?([0-9]{4,})$/,validate:function(c){var d=parseInt(c,10);return d!==0},strip:true,value:function(c){return parseInt(c,10)}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#gMonthDay"]={regex:/^--([0-9]{2})-([0-9]{2})((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var c=this.regex.exec(e),f=parseInt(c[1],10),d=parseInt(c[2],10),g=c[3]===undefined||c[3]==="Z"?"+0000":c[3].replace(/:/,"");if(f>12||d>31||parseInt(g,10)<-1400||parseInt(g,10)>1400){return false}else{if(f===2&&d>29){return false}else{if((f===4||f===6||f===9||f===11)&&d>30){return false}else{return true}}}},strip:true,value:function(c){return c}};b.typedValue.types["http://www.w3.org/2001/XMLSchema#anyURI"]={regex:/^.*$/,strip:true,value:function(c,d){var e=b.extend({},b.typedValue.defaults,d);return b.uri.resolve(c,e.base)}};b.typedValue.defaults={base:b.uri.base(),namespaces:{}};b.typedValue.valid=function(e,c){var f=b.typedValue.types[c];if(f===undefined){return true}else{e=f.strip?a(e):e;if(f.regex.test(e)){return f.validate===undefined?true:f.validate(e)}else{return false}}}})(jQuery);(function(a){a.curie=function(f,c){var g=a.extend({},a.curie.defaults,c||{}),b=/^(([^:]*):)?(.+)$/.exec(f),h=b[2],d=b[3],e=g.namespaces[h];if(/^:.+/.test(f)){if(g.reservedNamespace===undefined||g.reservedNamespace===null){throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+f}else{e=g.reservedNamespace}}else{if(h){if(e===undefined){throw"Malformed CURIE: No namespace binding for "+h+" in CURIE "+f}}else{if(g.charcase==="lower"){f=f.toLowerCase()}else{if(g.charcase==="upper"){f=f.toUpperCase()}}if(g.reserved.length&&a.inArray(f,g.reserved)>=0){e=g.reservedNamespace;d=f}else{if(g.defaultNamespace===undefined||g.defaultNamespace===null){throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+f}else{e=g.defaultNamespace}}}}return a.uri(e+d)};a.curie.defaults={namespaces:{},reserved:[],reservedNamespace:undefined,defaultNamespace:undefined,charcase:"preserve"};a.safeCurie=function(d,c){var b=/^\[([^\]]+)\]$/.exec(d);return b?a.curie(b[1],c):a.uri(d)};a.createCurie=function(f,b){var e=a.extend({},a.curie.defaults,b||{}),d=e.namespaces,c;f=a.uri(f).toString();if(e.reservedNamespace!==undefined&&f.substring(0,e.reservedNamespace.toString().length)===e.reservedNamespace.toString()){c=f.substring(e.reservedNamespace.toString().length);if(a.inArray(c,e.reserved)===-1){c=":"+c}}else{a.each(d,function(h,g){if(f.substring(0,g.toString().length)===g.toString()){c=h+":"+f.substring(g.toString().length);return null}})}if(c===undefined){throw"No Namespace Binding: There's no appropriate namespace binding for generating a CURIE from "+f}else{return c}};a.fn.curie=function(c,b){var d=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.curie(c,d)};a.fn.safeCurie=function(d,b){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.safeCurie(d,c)};a.fn.createCurie=function(d,b){var c=a.extend({},a.fn.curie.defaults,{namespaces:this.xmlns()},b||{});return a.createCurie(d,c)};a.fn.curie.defaults={reserved:["alternate","appendix","bookmark","cite","chapter","contents","copyright","first","glossary","help","icon","index","last","license","meta","next","p3pv1","prev","role","section","stylesheet","subsection","start","top","up"],reservedNamespace:"http://www.w3.org/1999/xhtml/vocab#",defaultNamespace:undefined,charcase:"lower"}})(jQuery);(function(C){var e={},b={},s={},B={},q={},g="http://www.w3.org/2001/XMLSchema#",u="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t="http://www.w3.org/2000/01/rdf-schema#",y=/^<(([^>]|\\>)*)>$/,M=/^("""((\\"|[^"])*)"""|"((\\"|[^"])*)")(@([a-z]+(-[a-z0-9]+)*)|\^\^(.+))?$/,f=/(("""((\\"|[^"])*)""")|("(\\"|[^"]|)*")|(<(\\>|[^>])*>)|\S)+/g,w=databankSeed=new Date().getTime()%1000,h=function(){w+=1;return"b"+w.toString(16)},F=function(){databankSeed+=1;return"data"+databankSeed.toString(16)},G={},L={},j=function(P,Q){if(typeof P==="string"){try{return C.rdf.resource(P,Q)}catch(S){try{return C.rdf.blank(P,Q)}catch(R){throw"Bad Triple: Subject "+P+" is not a resource: "+R}}}else{return P}},K=function(Q,P){if(Q==="a"){return C.rdf.type}else{if(typeof Q==="string"){try{return C.rdf.resource(Q,P)}catch(R){throw"Bad Triple: Property "+Q+" is not a resource: "+R}}else{return Q}}},H=function(P,R){if(typeof P==="string"){try{return C.rdf.resource(P,R)}catch(T){try{return C.rdf.blank(P,R)}catch(S){try{return C.rdf.literal(P,R)}catch(Q){throw"Bad Triple: Object "+P+" is not a resource or a literal "+Q}}}}else{return P}},a=function(S,Q,R){var P;if(typeof Q==="string"){P=Q.substring(1);if(R[P]&&R[P]!==S){return null}else{R[P]=S;return R}}else{if(Q===S){return R}else{return null}}},N=function(P,Q){if(P.union===undefined){if(Q.subject.type!==undefined){if(P.subjectIndex[Q.subject]===undefined){return[]}return C.map(P.subjectIndex[Q.subject],function(R){var S=Q.exec(R);return S===null?null:{bindings:S,triples:[R]}})}else{if(Q.object.type==="uri"||Q.object.type==="bnode"){if(P.objectIndex[Q.object]===undefined){return[]}return C.map(P.objectIndex[Q.object],function(R){var S=Q.exec(R);return S===null?null:{bindings:S,triples:[R]}})}else{if(Q.property.type!==undefined){if(P.propertyIndex[Q.property]===undefined){return[]}return C.map(P.propertyIndex[Q.property],function(R){var S=Q.exec(R);return S===null?null:{bindings:S,triples:[R]}})}}}}return C.map(P.triples(),function(R){var S=Q.exec(R);return S===null?null:{bindings:S,triples:[R]}})},o=function(P,R,Q){return C.map(P,function(U,S){var T=C.map(R,function(X){var W,V,Y=true;for(W in X.bindings){V=X.bindings[W];if(!(U.bindings[W]===undefined||U.bindings[W]===V)){Y=false;break}}return Y?X:null});if(T.length>0){return C.map(T,function(V){return{bindings:C.extend({},U.bindings,V.bindings),triples:C.unique(U.triples.concat(V.triples))}})}else{return Q?U:null}})},O=function(P,R){var Q,S,T;if(R.filterExp!==undefined&&!C.isFunction(R.filterExp)){if(P.union===undefined){Q=typeof R.filterExp.subject==="string"?"":R.filterExp.subject;S=typeof R.filterExp.property==="string"?"":R.filterExp.property;T=typeof R.filterExp.object==="string"?"":R.filterExp.object;if(P.queries[Q]===undefined){P.queries[Q]={}}if(P.queries[Q][S]===undefined){P.queries[Q][S]={}}if(P.queries[Q][S][T]===undefined){P.queries[Q][S][T]=[]}P.queries[Q][S][T].push(R)}else{C.each(P.union,function(V,U){O(U,R)})}}},z=function(P){P.length=0;P.matches=[];C.each(P.children,function(Q,R){z(R)});C.each(P.partOf,function(Q,R){z(R)})},D=function(Q,P){if(P.length>0){C.each(Q.children,function(R,S){E(S,P)});C.each(Q.partOf,function(R,S){D(S,P)});C.each(P,function(S,R){Q.matches.push(R);Array.prototype.push.call(Q,R.bindings)})}},m=function(Y,ab){var W,Q,ac,V,U,T,aa,P=ab.length,S,X={},R={},ad={},Z=[];for(W=0;W<Y.length;W+=1){Q=Y[W].bindings;ac=Y[W].triples;R=ad;for(V=0;V<P;V+=1){T=ab[V];aa=Q[T];if(V===P-1){if(R[aa]===undefined){X={bindings:{},triples:ac};for(U=0;U<P;U+=1){X.bindings[ab[U]]=Q[ab[U]]}R[aa]=X;Z.push(X)}else{X=R[aa];X.triples=X.triples.concat(ac)}}else{if(R[aa]===undefined){R[aa]={}}R=R[aa]}}}return Z},I=function(V,P){var T,Q,S,U={},R=[];for(T=0;T<V.length;T+=1){Q=V[T];if(U[Q.bindings[P]]===undefined){S={bindings:{node:Q.bindings[P]},triples:Q.triples};R.push(S);U[Q.bindings[P]]=S}else{S=U[Q.bindings[P]];S.triples=S.triples.concat(Q.triples)}}return R},E=function(R,Q){var P;if(R.union===undefined){if(R.top||R.parent.top){P=R.alphaMemory}else{Q=Q||R.parent.matches;if(C.isFunction(R.filterExp)){P=C.map(Q,function(S,T){return R.filterExp.call(S.bindings,T,S.bindings,S.triples)?S:null})}else{if(R.filterExp!==undefined){P=o(Q,R.alphaMemory,R.filterExp.optional)}else{P=Q}}}}else{P=C.map(R.union,function(S){return S.matches})}if(R.selections!==undefined){P=m(P,R.selections)}else{if(R.navigate!==undefined){P=I(P,R.navigate)}}D(R,P)},n=function(R,Q){var P;if(R.filterExp.optional){z(R);E(R)}else{if(R.top||R.parent.top){P=[Q]}else{P=o(R.parent.matches,[Q],false)}D(R,P)}},J=function(Q,R){var P,S=Q.filterExp.exec(R);if(S!==null){P={triples:[R],bindings:S};Q.alphaMemory.push(P);n(Q,P)}},c=function(P,Q){P.alphaMemory.splice(C.inArray(Q,P.alphaMemory),1);z(P);E(P)},A=function(P,Q){C.each(P,function(R,S){J(S,Q)})},l=function(P,Q){C.each(P,function(R,S){c(S,Q)})},d=function(P,T){var Q=T.subject,R=T.property,S=T.object;if(P.union===undefined){if(P.queries[Q]!==undefined){if(P.queries[Q][R]!==undefined){if(P.queries[Q][R][S]!==undefined){A(P.queries[Q][R][S],T)}if(P.queries[Q][R][""]!==undefined){A(P.queries[Q][R][""],T)}}if(P.queries[Q][""]!==undefined){if(P.queries[Q][""][S]!==undefined){A(P.queries[Q][""][S],T)}if(P.queries[Q][""][""]!==undefined){A(P.queries[Q][""][""],T)}}}if(P.queries[""]!==undefined){if(P.queries[""][R]!==undefined){if(P.queries[""][R][S]!==undefined){A(P.queries[""][R][S],T)}if(P.queries[""][R][""]!==undefined){A(P.queries[""][R][""],T)}}if(P.queries[""][""]!==undefined){if(P.queries[""][""][S]!==undefined){A(P.queries[""][""][S],T)}if(P.queries[""][""][""]!==undefined){A(P.queries[""][""][""],T)}}}}else{C.each(P.union,function(V,U){d(U,T)})}},r=function(P,T){var Q=T.subject,R=T.property,S=T.object;if(P.union===undefined){if(P.queries[Q]!==undefined){if(P.queries[Q][R]!==undefined){if(P.queries[Q][R][S]!==undefined){l(P.queries[Q][R][S],T)}if(P.queries[Q][R][""]!==undefined){l(P.queries[Q][R][""],T)}}if(P.queries[Q][""]!==undefined){if(P.queries[Q][""][S]!==undefined){l(P.queries[Q][""][S],T)}if(P.queries[Q][""][""]!==undefined){l(P.queries[Q][""][""],T)}}}if(P.queries[""]!==undefined){if(P.queries[""][R]!==undefined){if(P.queries[""][R][S]!==undefined){l(P.queries[""][R][S],T)}if(P.queries[""][R][""]!==undefined){l(P.queries[""][R][""],T)}}if(P.queries[""][""]!==undefined){if(P.queries[""][""][S]!==undefined){l(P.queries[""][""][S],T)}if(P.queries[""][""][""]!==undefined){l(P.queries[""][""][""],T)}}}}else{C.each(P.union,function(V,U){r(U,T)})}},x=function(W,V,T){var P=V[0],S={},R=[],Q,U;T=T||{};if(V.length===0){for(Q=0;Q<W.length;Q+=1){for(v in W[Q]){if(T[v]===undefined){T[v]=[]}if(C.isArray(T[v])){T[v].push(W[Q][v])}}}return[T]}for(Q=0;Q<W.length;Q+=1){key=W[Q][P];if(S[key]===undefined){S[key]=[]}S[key].push(W[Q])}V=V.splice(1,1);for(v in S){U=C.extend({},T);U[P]=S[v][0][P];R=R.concat(x(S[v],V,U))}return R},k=function(P,Q,R){if(L[P.id]===undefined){L[P.id]={}}if(L[P.id][Q]===undefined){L[P.id][Q]=R;return false}return true};dequeue=function(Q,S,P,R){var T=L[Q.id][S];if(C.isFunction(T[P])){T[P].call(Q,R)}L[Q.id][S]=undefined};C.typedValue.types["http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"]={regex:/^.*$/m,strip:false,value:function(P){return P}};C.rdf=function(P){return new C.rdf.fn.init(P)};C.rdf.fn=C.rdf.prototype={rdfquery:"1.1",init:function(P){var R,Q;P=P||{};this.parent=P.parent;this.union=P.union;this.top=this.parent===undefined&&this.union===undefined;if(this.union===undefined){if(P.databank===undefined){this.databank=this.parent===undefined?C.rdf.databank(P.triples,P):this.parent.databank}else{this.databank=P.databank}}else{R=C.map(this.union,function(S){return S.databank});R=C.unique(R);if(R[1]!==undefined){this.databank=C.rdf.databank(undefined,{union:R})}else{this.databank=R[0]}}this.children=[];this.partOf=[];this.filterExp=P.filter;this.selections=P.distinct;this.navigate=P.navigate;this.alphaMemory=[];this.matches=[];this.length=0;if(this.filterExp!==undefined){if(!C.isFunction(this.filterExp)){O(this.databank,this);this.alphaMemory=N(this.databank,this.filterExp)}}else{if(P.nodes!==undefined){this.alphaMemory=[];for(Q=0;Q<P.nodes.length;Q+=1){this.alphaMemory.push({bindings:{node:P.nodes[Q]},triples:[]})}}}E(this);return this},base:function(P){if(P===undefined){return this.databank.base()}else{this.databank.base(P);return this}},prefix:function(Q,P){if(P===undefined){return this.databank.prefix(Q)}else{this.databank.prefix(Q,P);return this}},add:function(S,Q){var R,P;if(S.rdfquery!==undefined){if(S.top){P=this.databank.add(S.databank);R=C.rdf({parent:this.parent,databank:P});return R}else{if(this.top){P=S.databank.add(this.databank);R=C.rdf({parent:S.parent,databank:P});return R}else{if(this.union===undefined){R=C.rdf({union:[this,S]});this.partOf.push(R);S.partOf.push(R);return R}else{this.union.push(S);S.partOf.push(this)}}}}else{if(typeof S==="string"){Q=C.extend({},{base:this.base(),namespaces:this.prefix(),source:S},Q);S=C.rdf.pattern(S,Q)}if(S.isFixed()){this.databank.add(S.triple(),Q)}else{R=this;this.each(function(U,V){var T=S.triple(V);if(T!==null){R.databank.add(T,Q)}})}}return this},remove:function(Q,P){if(typeof Q==="string"){P=C.extend({},{base:this.base(),namespaces:this.prefix()},P);Q=C.rdf.pattern(Q,P)}if(Q.isFixed()){this.databank.remove(Q.triple(),P)}else{query=this;this.each(function(S,T){var R=Q.triple(T);if(R!==null){query.databank.remove(R,P)}})}return this},load:function(R,P){var Q=this,P=P||{},S=P.success;if(S!==undefined){P.success=function(){S.call(Q)}}this.databank.load(R,P);return this},except:function(P){return C.rdf({databank:this.databank.except(P.databank)})},where:function(R,Q){var U,T,S,P;Q=Q||{};if(typeof R==="string"){T=Q.base||this.base();S=C.extend({},this.prefix(),Q.namespaces||{});P=Q.optional||false;R=C.rdf.pattern(R,{namespaces:S,base:T,optional:P})}U=C.rdf(C.extend({},Q,{parent:this,filter:R}));this.children.push(U);return U},optional:function(Q,P){return this.where(Q,C.extend({},P||{},{optional:true}))},about:function(Q,P){return this.where(Q+" ?property ?value",P)},filter:function(R,S){var P,Q;if(typeof R==="string"){if(S.constructor===RegExp){P=function(){return S.test(this[R].value)}}else{P=function(){return this[R].type==="literal"?this[R].value===S:this[R]===S}}}else{P=R}Q=C.rdf({parent:this,filter:P});this.children.push(Q);return Q},node:function(R){var P,Q;if(R.toString().substring(0,1)==="?"){P=R.toString().substring(1);Q=C.rdf({parent:this,navigate:P})}else{if(typeof R==="string"){R=H(R,{namespaces:this.prefix(),base:this.base()})}Q=C.rdf({parent:this,nodes:[R]})}this.children.push(Q);return Q},find:function(P){return this.where("?node "+P+" ?object",{navigate:"object"})},back:function(P){return this.where("?subject "+P+" ?node",{navigate:"subject"})},group:function(U){var T={},S=[],R,Q,P;if(!C.isArray(U)){U=[U]}return C(x(this,U))},select:function(S){var R=[],Q,P;for(Q=0;Q<this.length;Q+=1){if(S===undefined){R[Q]=this[Q]}else{R[Q]={};for(P=0;P<S.length;P+=1){R[Q][S[P]]=this[Q][S[P]]}}}return R},describe:function(T){var Q,P,S,R=[];for(Q=0;Q<T.length;Q+=1){S=T[Q];if(S.substring(0,1)==="?"){S=S.substring(1);for(P=0;P<this.length;P+=1){R.push(this[P][S])}}else{R.push(S)}}return this.databank.describe(R)},eq:function(P){return this.filter(function(Q){return Q===P})},reset:function(){var P=this;while(P.parent!==undefined){P=P.parent}return P},end:function(){return this.parent},size:function(){return this.length},sources:function(){return C(C.map(this.matches,function(P){return[P.triples]}))},dump:function(P){var Q=C.map(this.matches,function(R){return R.triples});P=C.extend({namespaces:this.databank.namespaces,base:this.databank.base},P||{});return C.rdf.dump(Q,P)},get:function(P){return(P===undefined)?C.makeArray(this):this[P]},each:function(P){C.each(this.matches,function(R,Q){P.call(Q.bindings,R,Q.bindings,Q.triples)});return this},map:function(P){return C(C.map(this.matches,function(Q,R){return P.call(Q.bindings,R,Q.bindings,Q.triples)}))},jquery:function(){return C(this)}};C.rdf.fn.init.prototype=C.rdf.fn;C.rdf.gleaners=[];C.rdf.parsers={};C.rdf.dump=function(W,P){var S=C.extend({},C.rdf.dump.defaults,P||{}),U=S.format,R=S.serialize,T,V,Q;V=C.rdf.parsers[U];if(V===undefined){Q=[];for(p in C.rdf.parsers){Q.push(p)}throw"Unrecognised dump format: "+U+". Expected one of "+Q.join(", ")}T=V.dump(W,S);return R?V.serialize(T):T};C.rdf.dump.defaults={format:"application/json",serialize:false,indent:false,namespaces:{}};C.fn.rdf=function(Q){var P=[],Q=Q||function(){return this};if(C(this)[0]&&C(this)[0].nodeType===9){return C(this).children("*").rdf(Q)}else{if(C(this).length>0){P=C(this).map(function(R,S){return C.map(C.rdf.gleaners,function(T){return T.gleaner.call(C(S),{callback:Q})})});return C.rdf({triples:P,namespaces:C(this).xmlns()})}else{return C.rdf()}}};C.extend(C.expr[":"],{about:function(Q,S,P){var R=C(Q),U=P[3]?R.safeCurie(P[3]):null,T=false;C.each(C.rdf.gleaners,function(V,W){T|=W.gleaner.call(R,{about:U})});return T},type:function(Q,S,P){var R=C(Q),T=P[3]?R.curie(P[3]):null,U=false;C.each(C.rdf.gleaners,function(V,W){U|=W.gleaner.call(R,{type:T})});return U},itemid:function(Q,T,P){var R=C(Q),U=P[3]?R.safeCurie(P[3]):null,S=false;C.each(C.rdf.gleaners,function(V,W){S|=W.gleaner.call(R,{itemid:U})});return S},itemtype:function(Q,S,P){var R=C(Q),T=P[3]?R.curie(P[3]):null,U=false;C.each(C.rdf.gleaners,function(V,W){U|=W.gleaner.call(R,{itemtype:T})});return U}});C.rdf.databank=function(Q,P){return new C.rdf.databank.fn.init(Q,P)};C.rdf.databank.fn=C.rdf.databank.prototype={init:function(R,P){var Q;R=R||[];P=P||{};this.id=F();G[this.id]=this;if(P.union===undefined){this.queries={};this.tripleStore=[];this.subjectIndex={};this.propertyIndex={};this.objectIndex={};this.baseURI=P.base||C.uri.base();this.namespaces=C.extend({},P.namespaces||{});for(Q=0;Q<R.length;Q+=1){this.add(R[Q])}}else{this.union=P.union}return this},base:function(P){if(this.union===undefined){if(P===undefined){return this.baseURI}else{this.baseURI=P;return this}}else{if(P===undefined){return this.union[0].base()}else{C.each(this.union,function(R,Q){Q.base(P)});return this}}},prefix:function(R,P){var Q={};if(this.union===undefined){if(R===undefined){return this.namespaces}else{if(P===undefined){return this.namespaces[R]}else{this.namespaces[R]=P;return this}}}else{if(P===undefined){C.each(this.union,function(T,S){C.extend(Q,S.prefix())});if(R===undefined){return Q}else{return Q[R]}}else{C.each(this.union,function(T,S){S.prefix(R,P)});return this}}},add:function(V,Q){var T=(Q&&Q.base)||this.base(),S=C.extend({},this.prefix(),(Q&&Q.namespaces)||{}),U=(Q&&Q.depth)||C.rdf.databank.defaults.depth,R=(Q&&Q.proxy)||C.rdf.databank.defaults.proxy,P;if(V===this){return this}else{if(V.subjectIndex!==undefined){if(this.union===undefined){P=C.rdf.databank(undefined,{union:[this,V]});return P}else{this.union.push(V);return this}}else{if(typeof V==="string"){V=C.rdf.triple(V,{namespaces:S,base:T,source:V})}if(this.union===undefined){if(this.subjectIndex[V.subject]===undefined){this.subjectIndex[V.subject]=[];if(U>0&&V.subject.type==="uri"){this.load(V.subject.value,{depth:U-1,proxy:R})}}if(this.propertyIndex[V.property]===undefined){this.propertyIndex[V.property]=[];if(U>0){this.load(V.property.value,{depth:U-1,proxy:R})}}if(C.inArray(V,this.subjectIndex[V.subject])===-1){this.tripleStore.push(V);this.subjectIndex[V.subject].push(V);this.propertyIndex[V.property].push(V);if(V.object.type==="uri"||V.object.type==="bnode"){if(this.objectIndex[V.object]===undefined){this.objectIndex[V.object]=[];if(U>0&&V.object.type==="uri"){this.load(V.object.value,{depth:U-1,proxy:R})}}this.objectIndex[V.object].push(V)}d(this,V)}}else{C.each(this.union,function(X,W){W.add(V)})}return this}}},remove:function(V,S){var U=(S&&S.base)||this.base(),T=C.extend({},this.prefix(),(S&&S.namespaces)||{}),W,Q,P,R;if(typeof V==="string"){V=C.rdf.triple(V,{namespaces:T,base:U,source:V})}this.tripleStore.splice(C.inArray(V,this.tripleStore),1);W=this.subjectIndex[V.subject];if(W!==undefined){W.splice(C.inArray(V,W),1);if(C(W).size()===0){delete this.subjectIndex[V.subject]}}Q=this.propertyIndex[V.property];if(Q!==undefined){Q.splice(C.inArray(V,Q),1);if(C(Q).size()===0){delete this.propertyIndex[V.property]}}if(V.object.type==="uri"||V.object.type==="bnode"){P=this.objectIndex[V.object];if(P!==undefined){P.splice(C.inArray(V,P),1);if(C(P).size()===0){delete this.objectIndex[V.object]}}}r(this,V);return this},except:function(Q){var P=Q.subjectIndex,R=[];C.each(this.subjectIndex,function(T,U){var S=P[T];if(S===undefined){R=R.concat(U)}else{C.each(U,function(W,V){if(C.inArray(V,S)===-1){R.push(V)}})}});return C.rdf.databank(R)},triples:function(){var P,Q=[];if(this.union===undefined){Q=this.tripleStore}else{C.each(this.union,function(S,R){Q=Q.concat(R.triples().get())});Q=C.unique(Q)}return C(Q)},size:function(){return this.triples().length},describe:function(S){var Q,R,P,U={},T=[];while(S.length>0){R=S.pop();if(U[R]===undefined){if(R.value===undefined){R=C.rdf.resource(R)}if(this.subjectIndex[R]!==undefined){for(Q=0;Q<this.subjectIndex[R].length;Q+=1){P=this.subjectIndex[R][Q];T.push(P);if(P.object.type==="bnode"){S.push(P.object)}}}if(this.objectIndex[R]!==undefined){for(Q=0;Q<this.objectIndex[R].length;Q+=1){P=this.objectIndex[R][Q];T.push(P);if(P.subject.type==="bnode"){S.push(P.subject)}}}U[R]=true}}return C.unique(T)},dump:function(P){P=C.extend({namespaces:this.namespaces,base:this.base},P||{});return C.rdf.dump(this.triples(),P)},load:function(V,P){var W,ac,R,Z,Q,S,aa=(P&&P.format),T=(P&&P.async)||C.rdf.databank.defaults.async,ab=(P&&P.success)||C.rdf.databank.defaults.success,Y=(P&&P.error)||C.rdf.databank.defaults.error,X=(P&&P.proxy)||C.rdf.databank.defaults.proxy,U=(P&&P.depth)||C.rdf.databank.defaults.depth;R=(typeof V==="string"&&V.substring(1,7)==="http://")?C.uri(V):V;if(R.scheme){if(!k(this,R,{success:ab,error:Y})){Z='<script type="text/javascript" src="'+X+"?id="+this.id+"&amp;depth="+U+"&amp;url="+encodeURIComponent(R.resolve("").toString())+'"><\/script>';if(T){setTimeout("$('head').append('"+Z+"')",0)}else{C("head").append(Z)}}return this}else{if(aa===undefined){if(typeof V==="string"){if(V.substring(0,1)==="{"){aa="application/json"}else{if(V.substring(0,14)==="<!DOCTYPE html"||V.substring(0,5)==="<html"){aa="application/xhtml+xml"}else{if(V.substring(0,5)==="<?xml"||V.substring(0,8)==="<rdf:RDF"){aa="application/rdf+xml"}else{aa="text/turtle"}}}}else{if(V.documentElement||V.ownerDocument){S=V.documentElement?V.documentElement:V.ownerDocument.documentElement;if(S.nodeName==="html"){aa="application/xhtml+xml"}else{aa="application/rdf+xml"}}else{aa="application/json"}}}Q=C.rdf.parsers[aa];if(typeof V==="string"){V=Q.parse(V)}ac=Q.triples(V);for(W=0;W<ac.length;W+=1){this.add(ac[W],P)}return this}},toString:function(){return"[Databank with "+this.size()+" triples]"}};C.rdf.databank.fn.init.prototype=C.rdf.databank.fn;C.rdf.databank.defaults={parse:false,async:true,success:null,error:null,depth:0,proxy:"http://www.jenitennison.com/rdfquery/proxy.php"};C.rdf.databank.load=function(S,P,R,Q){if(R!==undefined){G[S].load(R,Q)}dequeue(G[S],P,(R===undefined)?"error":"success",Q)};C.rdf.pattern=function(T,V,S,R){var U,P,Q;if(S===undefined){R=V||{};P=C.trim(T).match(f);if(P.length===3||(P.length===4&&P[3]===".")){T=P[0];V=P[1];S=P[2]}else{throw"Bad Pattern: Couldn't parse string "+T}Q=(R.optional===undefined)?C.rdf.pattern.defaults.optional:R.optional}if(q[T]&&q[T][V]&&q[T][V][S]&&q[T][V][S][Q]){return q[T][V][S][Q]}U=new C.rdf.pattern.fn.init(T,V,S,R);if(q[U.subject]&&q[U.subject][U.property]&&q[U.subject][U.property][U.object]&&q[U.subject][U.property][U.object][U.optional]){return q[U.subject][U.property][U.object][U.optional]}else{if(q[U.subject]===undefined){q[U.subject]={}}if(q[U.subject][U.property]===undefined){q[U.subject][U.property]={}}if(q[U.subject][U.property][U.object]===undefined){q[U.subject][U.property][U.object]={}}q[U.subject][U.property][U.object][U.optional]=U;return U}};C.rdf.pattern.fn=C.rdf.pattern.prototype={init:function(Q,S,T,P){var R=C.extend({},C.rdf.pattern.defaults,P);this.subject=Q.toString().substring(0,1)==="?"?Q:j(Q,R);this.property=S.toString().substring(0,1)==="?"?S:K(S,R);this.object=T.toString().substring(0,1)==="?"?T:H(T,R);this.optional=R.optional;return this},fill:function(S){var P=this.subject,Q=this.property,R=this.object;if(typeof P==="string"&&S[P.substring(1)]){P=S[P.substring(1)]}if(typeof Q==="string"&&S[Q.substring(1)]){Q=S[Q.substring(1)]}if(typeof R==="string"&&S[R.substring(1)]){R=S[R.substring(1)]}return C.rdf.pattern(P,Q,R,{optional:this.optional})},exec:function(Q){var P={};P=a(Q.subject,this.subject,P);if(P===null){return null}P=a(Q.property,this.property,P);if(P===null){return null}P=a(Q.object,this.object,P);return P},isFixed:function(){return typeof this.subject!=="string"&&typeof this.property!=="string"&&typeof this.object!=="string"},triple:function(Q){var P=this;if(!this.isFixed()){P=this.fill(Q)}if(P.isFixed()){return C.rdf.triple(P.subject,P.property,P.object,{source:this.toString()})}else{return null}},toString:function(){return this.subject+" "+this.property+" "+this.object}};C.rdf.pattern.fn.init.prototype=C.rdf.pattern.fn;C.rdf.pattern.defaults={base:C.uri.base(),namespaces:{},optional:false};C.rdf.triple=function(S,U,R,Q){var V,T,P;if(R===undefined){Q=U;P=C.trim(S).match(f);if(P.length===3||(P.length===4&&P[3]===".")){S=P[0];U=P[1];R=P[2]}else{throw"Bad Triple: Couldn't parse string "+S}}T=(Q&&Q.graph)||"";if(B[T]&&B[T][S]&&B[T][S][U]&&B[T][S][U][R]){return B[T][S][U][R]}V=new C.rdf.triple.fn.init(S,U,R,Q);T=V.graph||"";if(B[T]&&B[T][V.subject]&&B[T][V.subject][V.property]&&B[T][V.subject][V.property][V.object]){return B[T][V.subject][V.property][V.object]}else{if(B[T]===undefined){B[T]={}}if(B[T][V.subject]===undefined){B[T][V.subject]={}}if(B[T][V.subject][V.property]===undefined){B[T][V.subject][V.property]={}}B[T][V.subject][V.property][V.object]=V;return V}};C.rdf.triple.fn=C.rdf.triple.prototype={init:function(Q,S,T,P){var R;R=C.extend({},C.rdf.triple.defaults,P);this.subject=j(Q,R);this.property=K(S,R);this.object=H(T,R);this.graph=R.graph===undefined?undefined:j(R.graph,R);this.source=R.source;return this},isFixed:function(){return true},triple:function(P){return this},dump:function(){var R={},P=this.subject.value.toString(),Q=this.property.value.toString();R[P]={};R[P][Q]=this.object.dump();return R},toString:function(){return this.subject+" "+this.property+" "+this.object+" ."}};C.rdf.triple.fn.init.prototype=C.rdf.triple.fn;C.rdf.triple.defaults={base:C.uri.base(),source:[document],namespaces:{}};C.rdf.resource=function(R,P){var Q;if(e[R]){return e[R]}Q=new C.rdf.resource.fn.init(R,P);if(e[Q]){return e[Q]}else{e[Q]=Q;return Q}};C.rdf.resource.fn=C.rdf.resource.prototype={type:"uri",value:undefined,init:function(U,Q){var P,T,S,R;if(typeof U==="string"){P=y.exec(U);R=C.extend({},C.rdf.resource.defaults,Q);if(P!==null){this.value=C.uri.resolve(P[1].replace(/\\>/g,">"),R.base)}else{if(U.substring(0,1)===":"){S=R.namespaces[""];if(S===undefined){throw"Malformed Resource: No namespace binding for default namespace in "+U}else{this.value=C.uri.resolve(S+U.substring(1))}}else{if(U.substring(U.length-1)===":"){T=U.substring(0,U.length-1);S=R.namespaces[T];if(S===undefined){throw"Malformed Resource: No namespace binding for prefix "+T+" in "+U}else{this.value=C.uri.resolve(S)}}else{try{this.value=C.curie(U,{namespaces:R.namespaces})}catch(V){throw"Malformed Resource: Bad format for resource "+V}}}}}else{this.value=U}return this},dump:function(){return{type:"uri",value:this.value.toString()}},toString:function(){return"<"+this.value+">"}};C.rdf.resource.fn.init.prototype=C.rdf.resource.fn;C.rdf.resource.defaults={base:C.uri.base(),namespaces:{}};C.rdf.type=C.rdf.resource("<"+u+"type>");C.rdf.label=C.rdf.resource("<"+t+"label>");C.rdf.first=C.rdf.resource("<"+u+"first>");C.rdf.rest=C.rdf.resource("<"+u+"rest>");C.rdf.nil=C.rdf.resource("<"+u+"nil>");C.rdf.subject=C.rdf.resource("<"+u+"subject>");C.rdf.property=C.rdf.resource("<"+u+"property>");C.rdf.object=C.rdf.resource("<"+u+"object>");C.rdf.blank=function(P){var Q;if(b[P]){return b[P]}Q=new C.rdf.blank.fn.init(P);if(b[Q]){return b[Q]}else{b[Q]=Q;return Q}};C.rdf.blank.fn=C.rdf.blank.prototype={type:"bnode",value:undefined,id:undefined,init:function(P){if(P==="[]"){this.id=h();this.value="_:"+this.id}else{if(P.substring(0,2)==="_:"){this.id=P.substring(2);this.value=P}else{throw"Malformed Blank Node: "+P+" is not a legal format for a blank node"}}return this},dump:function(){return{type:"bnode",value:this.value}},toString:function(){return this.value}};C.rdf.blank.fn.init.prototype=C.rdf.blank.fn;C.rdf.literal=function(R,P){var Q;if(s[R]){return s[R]}Q=new C.rdf.literal.fn.init(R,P);if(s[Q]){return s[Q]}else{s[Q]=Q;return Q}};C.rdf.literal.fn=C.rdf.literal.prototype={type:"literal",value:undefined,lang:undefined,datatype:undefined,init:function(T,Q){var P,R,S=C.extend({},C.rdf.literal.defaults,Q);R=C.safeCurie(S.datatype,{namespaces:S.namespaces});if(S.lang!==undefined&&S.datatype!==undefined&&R.toString()!==(u+"XMLLiteral")){throw"Malformed Literal: Cannot define both a language and a datatype for a literal ("+T+")"}if(S.datatype!==undefined){R=C.safeCurie(S.datatype,{namespaces:S.namespaces});C.extend(this,C.typedValue(T.toString(),R));if(R.toString()===u+"XMLLiteral"){this.lang=S.lang}}else{if(S.lang!==undefined){this.value=T.toString();this.lang=S.lang}else{if(typeof T==="boolean"){C.extend(this,C.typedValue(T.toString(),g+"boolean"))}else{if(typeof T==="number"){C.extend(this,C.typedValue(T.toString(),g+"double"))}else{if(T==="true"||T==="false"){C.extend(this,C.typedValue(T,g+"boolean"))}else{if(C.typedValue.valid(T,g+"integer")){C.extend(this,C.typedValue(T,g+"integer"))}else{if(C.typedValue.valid(T,g+"decimal")){C.extend(this,C.typedValue(T,g+"decimal"))}else{if(C.typedValue.valid(T,g+"double")&&!/^\s*([\-\+]?INF|NaN)\s*$/.test(T)){C.extend(this,C.typedValue(T,g+"double"))}else{P=M.exec(T);if(P!==null){this.value=(P[2]||P[4]).replace(/\\"/g,'"').replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\r/g,"\r");if(P[9]){R=C.rdf.resource(P[9],S);C.extend(this,C.typedValue(this.value,R.value))}else{if(P[7]){this.lang=P[7]}}}else{throw"Malformed Literal: Couldn't recognise the value "+T}}}}}}}}}return this},dump:function(){var P={type:"literal",value:this.value.toString()};if(this.lang!==undefined){P.lang=this.lang}else{if(this.datatype!==undefined){P.datatype=this.datatype.toString()}}return P},toString:function(){var P='"'+this.value+'"';if(this.lang!==undefined){P+="@"+this.lang}else{if(this.datatype!==undefined){P+="^^<"+this.datatype+">"}}return P}};C.rdf.literal.fn.init.prototype=C.rdf.literal.fn;C.rdf.literal.defaults={base:C.uri.base(),namespaces:{},datatype:undefined,lang:undefined}})(jQuery);(function(a){a.rdf.parsers["application/json"]={parse:a.secureEvalJSON,serialize:a.toJSON,triples:function(f){var m,h,c,j,d,e,g,b,k=[];for(m in f){h=(m.substring(0,2)==="_:")?a.rdf.blank(m):a.rdf.resource("<"+m+">");for(c in f[m]){j=a.rdf.resource("<"+c+">");for(g=0;g<f[m][c].length;g+=1){d=f[m][c][g];if(d.type==="uri"){e=a.rdf.resource("<"+d.value+">")}else{if(d.type==="bnode"){e=a.rdf.blank(d.value)}else{if(d.datatype!==undefined){e=a.rdf.literal(d.value,{datatype:d.datatype})}else{b={};if(d.lang!==undefined){b.lang=d.lang}var l=typeof d.value==="string"?d.value.replace(/\"/g,'\\"'):d.value;e=a.rdf.literal('"'+l+'"',b)}}}k.push(a.rdf.triple(h,j,e))}}}return k},dump:function(h){var g={},c,b,d,f;for(c=0;c<h.length;c+=1){b=h[c];d=b.subject.value.toString();f=b.property.value.toString();if(g[d]===undefined){g[d]={}}if(g[d][f]===undefined){g[d][f]=[]}g[d][f].push(b.object.dump())}return g}}})(jQuery);(function(D){var y=/^(\u0009|\u000A|\u000D|\u0020|#([^\u000A\u000D])*)+/,k="A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD",B="-"+k+"0-9\u00B7\u0300-\u036F\u203F-\u2040",I=new RegExp("^["+k+"]["+B+"]*"),x=/^(\\u[0-9A-F]{4}|\\U[0-9A-F]{8}|\\\\|\\>|[\u0020-\u003D\u003F-\u005B\u005D-\u10FFFF])*/,g=/^(true|false)[\s\.;,)\]]/,z=/^(-|\+)?([0-9]+\.[0-9]*[eE](-|\+)?[0-9]+|\.[0-9]+[eE](-|\+)?[0-9]+|[0-9]+[eE](-|\+)?[0-9]+)/,F=/^(-|\+)?(([0-9]+\.[0-9]*)|(\.[0-9]))+/,J=/^(-|\+)?[0-9]+/,t=/^(\\u[0-9A-F]{4}|\\U[0-9A-F]{8}|\\\\|[\u0020-\u0021\u0023-\u005B]|[\u005D-\u10FFFF]|\\t|\\n|\\r|\\")*/,b=/^(\\u[0-9A-F]{4}|\\U[0-9A-F]{8}|\\\\|[\u0020-\u0021\u0023-\u005B]|[\u005D-\u10FFFF]|\\t|\\n|\\r|\\"|\u0009|\u000A|\u000D|"[^"]|""[^"])*/,d=/^[a-z]+(-[a-z0-9]+)*/,l=function(O){},L=function(O){return O.replace(/(\\u([0-9A-F]{4}))|(\\U([0-9A-F]{4})([0-9A-F]{4}))/g,function(Q,U,T,S,R,P){if(U!==undefined){return String.fromCharCode(parseInt(T,16))}else{return String.fromCharCode(parseInt(R,16))+String.fromCharCode(parseInt(P,16))}})},f=function(O,P){if(O.substring(0,P.length)===P){return O.substring(P.length)}else{throw"Invalid Turtle: Expecting '"+P+"', found '"+O.substring(0,20)+"...'"}},M=function(P,O){var Q;O=O||{};Q=O.required||false;if(Q&&!y.test(P)){throw ("Invalid Turtle: Required whitespace is missing!")}return P.replace(y,"")},c=function(Q,P){var O;l("uriref: "+Q);Q=f(Q,"<");O=x.exec(Q)[0];Q=Q.substring(O.length);Q=f(Q,">");return{remainder:Q,uri:D.uri.resolve(O,P.base)}},q=function(Q,P){var O;l("name: "+Q);if(I.test(Q)){O=I.exec(Q);return{name:O[0],remainder:Q.substring(O[0].length)}}else{return{name:"",remainder:Q}}},u=function(P,O){var Q=q(P,O);l("prefixName: "+P);if(Q.name.substring(0,1)==="_"){throw"Invalid Turtle: Prefix must not start with an underscore: "+q}else{return{prefix:Q.name,remainder:Q.remainder}}},a=function(S,Q){var O,R,P;l("directive: "+S);if(S.substring(0,7)==="@prefix"){S=S.substring(7);S=M(S,{required:true});O=u(S,Q);R=O.prefix;S=O.remainder;S=M(S);S=f(S,":");S=M(S);O=c(S,Q);Q.namespaces[R]=O.uri;S=O.remainder}else{if(S.substring(0,5)==="@base"){S=f(S,"@base");S=M(S,{required:true});O=c(S,Q);Q.base=O.uri;S=O.remainder}else{throw ("Invalid Turtle: Unrecognised directive: "+S)}}S=M(S);S=f(S,".");return{remainder:S,opts:Q,triples:[]}},e=function(R,Q){var P,O=[],T=[],S=R.substring(0,1);l("itemList: "+R);while(S!==")"){P=K(R,Q);R=P.remainder;O.push(P.object);T=T.concat(P.triples);R=M(R);S=R.substring(0,1)}return{remainder:R,items:O,triples:T}},H=function(U,S){var P,Q,O,V,T,R=D.rdf.nil;l("collection: "+U);U=f(U,"(");U=M(U);P=e(U,S);U=P.remainder;O=P.items;V=P.triples;for(Q=O.length-1;Q>=0;Q-=1){T=D.rdf.blank("[]");V.push(D.rdf.triple(T,D.rdf.first,O[Q]));V.push(D.rdf.triple(T,D.rdf.rest,R));R=T}U=M(U);U=f(U,")");return{remainder:U,collection:R,triples:V}},o=function(R,Q){var P,O,S=R.substring(0,1);l("blank: "+R);if(S==="_"){R=f(R,"_:");P=q(R,Q);return{remainder:P.remainder,blank:D.rdf.blank("_:"+P.name),triples:[]}}else{if(S==="("){P=H(R,Q);return{remainder:P.remainder,blank:P.collection,triples:P.triples}}else{if(R.substring(0,2)==="[]"){return{remainder:R.substring(2),blank:D.rdf.blank("[]"),triples:[]}}else{O=D.rdf.blank("[]");Q.subject.unshift(O);R=f(R,"[");R=M(R);P=E(R,Q);R=P.remainder;R=M(R);R=f(R,"]");Q.subject.shift();return{remainder:R,blank:O,triples:P.triples}}}}},j=function(Q,P){var O,R=Q.substring(0,1);l("subject: "+Q);if(R==="["||R==="_"||R==="("){O=o(Q,P);return{remainder:O.remainder,subject:O.blank,triples:O.triples}}else{O=C(Q,P);return{remainder:O.remainder,subject:O.resource,triples:[]}}},C=function(S,Q){var O,R,P,U=S.substring(0,1);l("resource: "+S);if(U==="<"){O=c(S,Q);return{remainder:O.remainder,resource:D.rdf.resource(O.uri,Q.base)}}else{try{O=u(S,Q);R=O.prefix;S=O.remainder}catch(T){R=""}S=f(S,":");O=q(S,Q);P=O.name;return{remainder:O.remainder,resource:D.rdf.resource(R+":"+P,{namespaces:Q.namespaces,base:Q.base})}}},r=function(P,O){var Q;l("quotedString: "+P);if(P.substring(0,3)==='"""'){P=f(P,'"""');Q=b.exec(P)[0];P=P.substring(Q.length);Q=Q.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\\"/g,'"');Q=L(Q);P=f(P,'"""');return{remainder:P,string:Q}}else{P=f(P,'"');Q=t.exec(P)[0];P=P.substring(Q.length);Q=Q.replace(/\\"/g,'"');Q=L(Q);P=f(P,'"');return{remainder:P,string:Q}}},s=function(P,O){var Q;l("language: "+P);Q=d.exec(P)[0];return{remainder:P.substring(Q.length),language:Q}},m=function(P,O){var R,Q;l("literal: "+P);if(g.test(P)){Q=g.exec(P)[1];return{remainder:P.substring(Q.length),literal:D.rdf.literal(Q,{datatype:"http://www.w3.org/2001/XMLSchema#boolean"})}}else{if(z.test(P)){Q=z.exec(P)[0];return{remainder:P.substring(Q.length),literal:D.rdf.literal(Q,{datatype:"http://www.w3.org/2001/XMLSchema#double"})}}else{if(F.test(P)){Q=F.exec(P)[0];return{remainder:P.substring(Q.length),literal:D.rdf.literal(Q,{datatype:"http://www.w3.org/2001/XMLSchema#decimal"})}}else{if(J.test(P)){Q=J.exec(P)[0];return{remainder:P.substring(Q.length),literal:D.rdf.literal(Q,{datatype:"http://www.w3.org/2001/XMLSchema#integer"})}}else{parsed=r(P,O);P=parsed.remainder;Q=parsed.string;P=M(P);R=P.substring(0,1);if(R==="^"){P=f(P,"^^");P=M(P);parsed=C(P,O);return{remainder:parsed.remainder,literal:D.rdf.literal(Q,{datatype:parsed.resource.value})}}else{if(R==="@"){P=f(P,"@");P=M(P);parsed=s(P,O);return{remainder:parsed.remainder,literal:D.rdf.literal(Q,{lang:parsed.language})}}else{return{remainder:P,literal:D.rdf.literal('"'+Q.replace(/"/g,'\\"')+'"')}}}}}}}},A=function(Q,P){var O,S=Q.substring(0,1);l("verb: "+Q);try{O=C(Q,P);return{remainder:O.remainder,verb:O.resource}}catch(R){if(S==="a"){Q=M(Q.substring(1),{required:true});return{remainder:Q,verb:D.rdf.type}}else{throw R}}},K=function(Q,P){var O,T,S=Q.substring(0,1);l("object: "+Q);if(S==="["||S==="_"||S==="("){O=o(Q,P);return{remainder:O.remainder,object:O.blank,triples:O.triples}}else{try{O=m(Q,P);return{remainder:O.remainder,object:O.literal,triples:[]}}catch(R){O=C(Q,P);return{remainder:O.remainder,object:O.resource,triples:[]}}}},N=function(Q,P){var O,R,T,U=[],S=Q.substring(0,1);l("objectList: "+Q);do{O=K(Q,P);Q=O.remainder;U=U.concat(O.triples);T=D.rdf.triple(P.subject[0],P.verb[0],O.object);U.push(T);Q=M(Q);S=Q.substring(0,1);if(S===","){Q=f(Q,",");Q=M(Q);S=Q.substring(0,1)}else{break}}while(S!=="]"&&S!==";"&&S!==".");return{remainder:Q,triples:U}},E=function(S,P){var O,R,Q,U=[],T=S.substring(0,1);l("predicateObjectList: "+S);do{O=A(S,P);S=O.remainder;R=O.verb;S=M(S);P.verb.unshift(R);O=N(S,P);S=O.remainder;U=U.concat(O.triples);P.verb.shift();S=M(S);T=S.substring(0,1);if(T===";"){S=f(S,";");S=M(S);T=S.substring(0,1)}else{break}}while(T!=="]"&&T!==".");return{remainder:S,triples:U}},G=function(Q,P){var O,R=[];l("triples: "+Q);O=j(Q,P);Q=O.remainder;P.subject.unshift(O.subject);R=O.triples;Q=M(Q);O=E(Q,P);P.subject.shift();Q=M(O.remainder);Q=f(Q,".");return{remainder:Q,opts:P,triples:R.concat(O.triples)}},w=function(Q,P){var R,O;l("statement: "+Q);Q=M(Q);if(Q.length===0){return{remainder:"",opts:P,triples:[]}}else{R=Q.substring(0,1);if(R==="@"){return a(Q,P)}else{return G(Q,P)}}},n=function(S,Q){var R,P={},O={},T=[];Q=Q||{};Q.namespaces={};Q.base=Q.base||D.uri.base();Q.subject=[];Q.verb=[];while(S!==""){l("parseTurtle: "+S);O=w(S,Q);S=O.remainder;Q=O.opts;T=T.concat(O.triples)}return T},h=function(aa,ad){var W=D.rdf.parsers["application/json"].dump(aa),P=ad.namespaces||{},Q=ad.indent||false,Y,U,ac,O,Z,R,ab="";for(U in P){ab+="@prefix "+U+": <"+P[U]+"> . ";if(Q){ab+="\n"}}for(ac in W){if(Q){ab+="\n"}if(ac.substring(0,2)==="_:"){ab+=ac}else{try{ab+=D.createCurie(ac,{namespaces:P})}catch(X){ab+="<"+ac+">"}}ab+=" ";Y=true;for(O in W[ac]){if(Q){ab+="\n  "}Y=false;if(O===D.rdf.type.value.toString()){ab+="a"}else{try{ab+=D.createCurie(O,{namespaces:P})}catch(V){ab+="<"+O+">"}}ab+=" ";for(R=0;R<W[ac][O].length;R+=1){if(R>0&&Q){ab+="\n    "}Z=W[ac][O][R];if(Z.type==="uri"){try{ab+=D.createCurie(Z.value,{namespaces:P})}catch(T){ab+="<"+Z.value+">"}}else{if(Z.type==="bnode"){ab+=Z.value}else{ab+='"'+Z.value+'"';if(Z.lang){ab+="@"+Z.lang}if(Z.datatype){ab+="^^";try{ab+=D.createCurie(Z.datatype,{namespaces:P})}catch(S){ab+="<"+Z.datatype+">"}}}}ab+=" , "}ab=ab.substring(0,ab.length-3);ab+=" ; "}ab=ab.substring(0,ab.length-3);ab+=" . ";if(Q){ab+="\n"}}return ab};D.rdf.parsers["text/turtle"]={parse:function(O){return O},serialize:function(O){return O},triples:n,dump:h}})(jQuery);(function(e){var b="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o=function(w,u,t,x){var y=w.ownerDocument,s;if(u!==undefined&&u!==null){if(y.createAttributeNS){s=y.createAttributeNS(u,t);s.nodeValue=x;w.attributes.setNamedItemNS(s)}else{s=y.createNode(2,t,u);s.nodeValue=x;w.attributes.setNamedItem(s)}}else{s=y.createAttribute(t);s.nodeValue=x;w.attributes.setNamedItem(s)}return w},q=function(t,s,u){if(s==="http://www.w3.org/XML/1998/namespace"||s==="http://www.w3.org/2000/xmlns/"){}else{if(u){o(t,"http://www.w3.org/2000/xmlns/","xmlns:"+u,s)}else{o(t,undefined,"xmlns",s)}}return t},h=function(u,s){var x,y="",w,t=false;if(u!==undefined&&u!==null){if(/:/.test(s)){w=/([^:]+):/.exec(s)[1]}t=true}if(document.implementation&&document.implementation.createDocument){x=document.implementation.createDocument(u,s,null);if(t){q(x.documentElement,u,w)}return x}else{x=new ActiveXObject("Microsoft.XMLDOM");x.async="false";if(w===undefined){y=' xmlns="'+u+'"'}else{y=" xmlns:"+w+'="'+u+'"'}x.loadXML("<"+s+y+"/>");return x}},r=function(w,u,t,s){var y=w.ownerDocument,x;if(u!==undefined&&u!==null){x=y.createElementNS?y.createElementNS(u,t):y.createNode(1,t,u)}else{x=y.createElement(t)}if(s!==-1){d(w,"\n");if(s===0){d(w,"\n")}else{d(w,"  ")}}w.appendChild(x);return x},d=function(u,x){var w=u.ownerDocument,s;s=w.createTextNode(x);u.appendChild(s);return u},n=function(u,s){var z,x,t,y;try{x=new ActiveXObject("Microsoft.XMLDOM");x.async="false";x.loadXML("<temp>"+s+"</temp>")}catch(w){z=new DOMParser();x=z.parseFromString("<temp>"+s+"</temp>","text/xml")}for(t=0;t<x.documentElement.childNodes.length;t+=1){u.appendChild(x.documentElement.childNodes[t].cloneNode(true))}return u},g=function(I,K){var G=h(b,"rdf:RDF"),B=e.rdf.parsers["application/json"].dump(I),u=K.namespaces||{},x=K.indent||false,w,J,C,t,D,z,H,y,F,E,A;for(w in u){q(G.documentElement,u[w],w)}for(J in B){if(B[J][e.rdf.type.value]!==undefined){y=/(.+[#\/])([^#\/]+)/.exec(B[J][e.rdf.type.value][0].value);E=y[1];F=y[2];for(w in u){if(u[w].toString()===E){A=w;break}}C=r(G.documentElement,E,A+":"+F,x?0:-1)}else{C=r(G.documentElement,b,"rdf:Description",x?0:-1)}if(/^_:/.test(J)){o(C,b,"rdf:nodeID",J.substring(2))}else{o(C,b,"rdf:about",J)}for(t in B[J]){if(t!==e.rdf.type.value.toString()||B[J][t].length>1){y=/(.+[#\/])([^#\/]+)/.exec(t);E=y[1];F=y[2];for(w in u){if(u[w].toString()===E){A=w;break}}for(z=(t===e.rdf.type.value.toString()?1:0);z<B[J][t].length;z+=1){H=B[J][t][z];D=r(C,E,A+":"+F,x?1:-1);if(H.type==="uri"){o(D,b,"rdf:resource",H.value)}else{if(H.type==="literal"){if(H.datatype!==undefined){if(H.datatype==="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"){o(D,b,"rdf:parseType","Literal");if(x){d(D,"\n    ")}n(D,H.value);if(x){d(D,"\n  ")}}else{o(D,b,"rdf:datatype",H.datatype);d(D,H.value)}}else{if(H.lang!==undefined){o(D,"http://www.w3.org/XML/1998/namespace","xml:lang",H.lang);d(D,H.value)}else{d(D,H.value)}}}else{o(D,b,"rdf:nodeID",H.value.substring(2))}}}if(x){d(C,"\n")}}}}if(x){d(G.documentElement,"\n\n")}return G},a=function(s){switch(s){case"http://www.w3.org/1999/02/22-rdf-syntax-ns":return"rdf";case"http://www.w3.org/XML/1998/namespace":return"xml";case"http://www.w3.org/2000/xmlns/":return"xmlns";default:throw ("No default prefix mapped for namespace "+s)}},l=function(u,t,s){var x;if(u.hasAttributeNS){return u.hasAttributeNS(t,s)}else{try{x=/:/.test(s)?/:(.+)$/.exec(s)[1]:s;return u.attributes.getQualifiedItem(x,t)!==null}catch(w){return u.getAttribute(a(t)+":"+s)!==null}}},k=function(u,t,s){var x;if(u.getAttributeNS){return u.getAttributeNS(t,s)}else{try{x=/:/.test(s)?/:(.+)$/.exec(s)[1]:s;return u.attributes.getQualifiedItem(x,t).nodeValue}catch(w){return u.getAttribute(a(t)+":"+s)}}},m=function(s){return s.localName||s.baseName},j=function(w,x){var u,t;if(l(w,b,"about")){u=k(w,b,"about");t=e.rdf.resource("<"+u+">",{base:x})}else{if(l(w,b,"ID")){u=k(w,b,"ID");t=e.rdf.resource("<#"+u+">",{base:x})}else{if(l(w,b,"nodeID")){u=k(w,b,"nodeID");t=e.rdf.blank("_:"+u)}else{t=e.rdf.blank("[]")}}}return t},f=function(L,u,w,P){var y,B,z,C,M,G,P,F,E,A=1,O,N,I,s=[],x,K,H={},t,D=[];P=k(L,"http://www.w3.org/XML/1998/namespace","lang")||P;w=k(L,"http://www.w3.org/XML/1998/namespace","base")||w;if(P!==null&&P!==undefined&&P!==""){H={lang:P}}y=j(L,w);if(u&&(L.namespaceURI!==b||m(L)!=="Description")){z=e.rdf.type;M=e.rdf.resource("<"+L.namespaceURI+m(L)+">");D.push(e.rdf.triple(y,z,M))}for(F=0;F<L.attributes.length;F+=1){B=L.attributes.item(F);if(B.namespaceURI!==undefined&&B.namespaceURI!=="http://www.w3.org/2000/xmlns/"&&B.namespaceURI!=="http://www.w3.org/XML/1998/namespace"&&B.prefix!=="xmlns"&&B.prefix!=="xml"){if(B.namespaceURI!==b){z=e.rdf.resource("<"+B.namespaceURI+m(B)+">");M=e.rdf.literal(H.lang?B.nodeValue:'"'+B.nodeValue+'"',H);D.push(e.rdf.triple(y,z,M))}else{if(m(B)==="type"){z=e.rdf.type;M=e.rdf.resource("<"+B.nodeValue+">",{base:w});D.push(e.rdf.triple(y,z,M))}}}}for(F=0;F<L.childNodes.length;F+=1){B=L.childNodes[F];if(B.nodeType===1){if(B.namespaceURI===b&&m(B)==="li"){z=e.rdf.resource("<"+b+"_"+A+">");A+=1}else{z=e.rdf.resource("<"+B.namespaceURI+m(B)+">")}P=k(B,"http://www.w3.org/XML/1998/namespace","lang")||P;if(P!==null&&P!==undefined&&P!==""){H={lang:P}}if(l(B,b,"resource")){C=k(B,b,"resource");M=e.rdf.resource("<"+C+">",{base:w})}else{if(l(B,b,"nodeID")){C=k(B,b,"nodeID");M=e.rdf.blank("_:"+C)}else{if(l(B,b,"parseType")){x=k(B,b,"parseType");if(x==="Literal"){try{K=new XMLSerializer();C=K.serializeToString(B.getElementsByTagName("*")[0])}catch(J){C="";for(E=0;E<B.childNodes.length;E+=1){C+=B.childNodes[E].xml}}M=e.rdf.literal(C,{datatype:b+"XMLLiteral"})}else{if(x==="Resource"){t=f(B,false,w,P);if(t.length>0){M=t[t.length-1].subject;D=D.concat(t)}else{M=e.rdf.blank("[]")}}else{if(x==="Collection"){if(B.getElementsByTagName("*").length>0){for(E=0;E<B.childNodes.length;E+=1){C=B.childNodes[E];if(C.nodeType===1){s.push(C)}}O=e.rdf.blank("[]");M=O;for(E=0;E<s.length;E+=1){C=s[E];t=f(C,true,w,P);if(t.length>0){I=t[t.length-1].subject;D=D.concat(t)}else{I=j(C)}D.push(e.rdf.triple(O,e.rdf.first,I));if(E===s.length-1){D.push(e.rdf.triple(O,e.rdf.rest,e.rdf.nil))}else{N=e.rdf.blank("[]");D.push(e.rdf.triple(O,e.rdf.rest,N));O=N}}}else{M=e.rdf.nil}}}}}else{if(l(B,b,"datatype")){C=B.childNodes[0].nodeValue;M=e.rdf.literal(C,{datatype:k(B,b,"datatype")})}else{if(B.getElementsByTagName("*").length>0){for(E=0;E<B.childNodes.length;E+=1){C=B.childNodes[E];if(C.nodeType===1){t=f(C,true,w,P);if(t.length>0){M=t[t.length-1].subject;D=D.concat(t)}else{M=j(C)}}}}else{if(B.childNodes.length>0){C=B.childNodes[0].nodeValue;M=e.rdf.literal(H.lang?C:'"'+C+'"',H)}else{t=f(B,false,w,P);if(t.length>0){M=t[t.length-1].subject;D=D.concat(t)}else{M=e.rdf.blank("[]")}}}}}}}D.push(e.rdf.triple(y,z,M));if(l(B,b,"ID")){G=e.rdf.resource("<#"+k(B,b,"ID")+">",{base:w});D.push(e.rdf.triple(G,e.rdf.subject,y));D.push(e.rdf.triple(G,e.rdf.property,z));D.push(e.rdf.triple(G,e.rdf.object,M))}}}return D},c=function(t){var s,w,u,x=[];if(t.documentElement.namespaceURI===b&&m(t.documentElement)==="RDF"){w=k(t.documentElement,"http://www.w3.org/XML/1998/namespace","lang");base=k(t.documentElement,"http://www.w3.org/XML/1998/namespace","base")||e.uri.base();x=e.map(t.documentElement.childNodes,function(y){if(y.nodeType===1){return f(y,true,base,w)}else{return null}})}else{x=f(t.documentElement,true)}return x};e.rdf.parsers["application/rdf+xml"]={parse:function(s){var u;try{u=new ActiveXObject("Microsoft.XMLDOM");u.async="false";u.loadXML(s)}catch(t){var w=new DOMParser();u=w.parseFromString(s,"text/xml")}return u},serialize:function(s){if(s.xml){return s.xml.replace(/\s+$/,"")}else{serializer=new XMLSerializer();return serializer.serializeToString(s)}},triples:c,dump:g}})(jQuery);(function(j){var J={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",xsd:"http://www.w3.org/2001/XMLSchema#",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},G=J.rdf+"XMLLiteral",m=j.fn.curie.defaults,I=["alternate","appendix","bookmark","cite","chapter","contents","copyright","first","glossary","help","icon","index","last","license","meta","next","p3pv1","prev","role","section","stylesheet","subsection","start","top","up"],A=/\s([^ =]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|([^ >]+))/g,x="[-A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u10000-\uEFFFF.0-9\u00B7\u0300-\u036F\u203F-\u2040]",f="[\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0131\u0134-\u013E\u0141-\u0148\u014A-\u017E\u0180-\u01C3\u01CD-\u01F0\u01F4-\u01F5\u01FA-\u0217\u0250-\u02A8\u02BB-\u02C1\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03D6\u03DA\u03DC\u03DE\u03E0\u03E2-\u03F3\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E-\u0481\u0490-\u04C4\u04C7-\u04C8\u04CB-\u04CC\u04D0-\u04EB\u04EE-\u04F5\u04F8-\u04F9\u0531-\u0556\u0559\u0561-\u0586\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0641-\u064A\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D3\u06D5\u06E5-\u06E6\u0905-\u0939\u093D\u0958-\u0961\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8B\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AE0\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B36-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0E01-\u0E2E\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EAE\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0F40-\u0F47\u0F49-\u0F69\u10A0-\u10C5\u10D0-\u10F6\u1100\u1102-\u1103\u1105-\u1107\u1109\u110B-\u110C\u110E-\u1112\u113C\u113E\u1140\u114C\u114E\u1150\u1154-\u1155\u1159\u115F-\u1161\u1163\u1165\u1167\u1169\u116D-\u116E\u1172-\u1173\u1175\u119E\u11A8\u11AB\u11AE-\u11AF\u11B7-\u11B8\u11BA\u11BC-\u11C2\u11EB\u11F0\u11F9\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A-\u212B\u212E\u2180-\u2182\u3041-\u3094\u30A1-\u30FA\u3105-\u312C\uAC00-\uD7A3\u4E00-\u9FA5\u3007\u3021-\u3029_]",l=new RegExp("^"+f+x+"*$"),q=j.rdf.resource("<>"),E=function(N){var L="",K,M;if(!/&/.test(N)){return N}while(N.length>0){K=/([^&]*)(&([^;]+);)(.*)/g.exec(N);if(K===null){L+=N;break}L+=K[1];M=K[3];N=K[4];if(M.charAt(0)==="#"){if(M.charAt(1)==="x"){L+=String.fromCharCode(parseInt(M.substring(2),16))}else{L+=String.fromCharCode(parseInt(M.substring(1),10))}}else{switch(M){case"amp":L+="&";break;case"nbsp":L+=String.fromCharCode(160);break;case"quot":L+='"';break;case"apos":L+="'";break;default:L+="&"+M+";"}}}return L},z=function(L){var M,R,S,U,K,T,Q,N,P={},O={};R=L[0];O[":length"]=0;if(R.attributes&&R.attributes.getNamedItemNS){Q=R.attributes;for(M=0;M<Q.length;M+=1){S=Q[M];if(/^xmlns(:(.+))?$/.test(S.nodeName)&&S.nodeValue!==""){N=/^xmlns(:(.+))?$/.exec(S.nodeName)[2]||"";if(l.test(N)&&(N!=="xml"||S.nodeValue===J.xml)&&(S.nodeValue!==J.xml||N==="xml")&&N!=="xmlns"&&S.nodeValue!==J.xmlns){O[N]=j.uri(S.nodeValue);O[":length"]+=1}}else{if(/rel|rev|lang|xml:lang|about|href|src|resource|property|typeof|content|datatype/.test(S.nodeName)){P[S.nodeName]=S.nodeValue===null?undefined:S.nodeValue}}}}else{U=/<[^>]+>/.exec(R.outerHTML);S=A.exec(U);while(S!==null){K=S[1];T=S[2]||S[3]||S[4];if(/^xmlns/.test(K)&&K!=="xmlns:"&&T!==""){N=/^xmlns(:(.+))?$/.exec(K)[2]||"";if(l.test(N)&&(N!=="xml"||S.nodeValue===J.xml)&&(S.nodeValue!==J.xml||N==="xml")&&N!=="xmlns"&&S.nodeValue!==J.xmlns){O[N]=j.uri(T);O[":length"]+=1}}else{if(/about|href|src|resource|property|typeof|content|datatype|rel|rev|lang|xml:lang/.test(K)){P[K]=E(T)}}S=A.exec(U)}A.lastIndex=0}return{atts:P,namespaces:O}},D=function(L,K){var M=L[0].getAttribute(K);return M===null?undefined:M},e=function(K){return j.rdf.resource(K)},d=function(M,N,L,K){if(M.substring(0,2)==="_:"){if(L){return undefined}return j.rdf.blank(M)}else{try{return e(j.curie(M,K))}catch(O){return undefined}}},h=function(O,M,L){var K=/^\[(.*)\]$/.exec(O),N=L.base||M.base();return K?d(K[1],M,false,L):e(j.uri(O,N))},r=function(O,N,M,K){var L,P,Q=[];O=O&&O.split?O.split(/[ \t\n\r\x0C]+/g):[];for(L=0;L<O.length;L+=1){if(O[L]!==""){P=d(O[L],N,M,K);if(P!==undefined){Q.push(P)}}}return Q},g=function(N,P,K){var L,M,O=[];P=P.type==="uri"?P:j.rdf.resource(P,K);N=N&&N.split?N.split(/\s+/):[];for(L=0;L<N.length;L+=1){if(N[L]!==""){M=d(N[L],null,false,K);if(M!==P){O.push(N[L])}}}return O.reverse().join(" ")},C=function(O,L,N){var M,P,Q,K;L=L||{};Q=L.atts||z(O).atts;M=N===undefined?Q.rel!==undefined||Q.rev!==undefined:N;P=Q.resource;P=P===undefined?Q.href:P;if(P===undefined){P=M?j.rdf.blank("[]"):P}else{K=L.curieOptions||j.extend({},m,{namespaces:O.xmlns()});P=h(P,O,K)}return P},w=function(Q,M,P){var O,R,K,L,N=false;M=M||{};R=M.atts||z(Q).atts;K=M.curieOptions||j.extend({},m,{namespaces:Q.xmlns(),base:Q.base()});O=P===undefined?R.rel!==undefined||R.rev!==undefined:P;if(R.about!==undefined){L=h(R.about,Q,K)}if(L===undefined&&R.src!==undefined){L=h(R.src,Q,K)}if(!O&&L===undefined&&R.resource!==undefined){L=h(R.resource,Q,K)}if(!O&&L===undefined&&R.href!==undefined){L=h(R.href,Q,K)}if(L===undefined){if(/^(head|body)$/i.test(Q[0].nodeName)){L=q}else{if(R["typeof"]!==undefined){L=j.rdf.blank("[]")}else{if(Q[0].parentNode.nodeType===1){L=M.object||C(Q.parent())||w(Q.parent()).subject;N=!O&&R.property===undefined}else{L=q}}}}return{subject:L,skip:N}},u=function(L,K){var N;K=K||{};if(K.atts){N=K.atts.lang;N=N||K.atts["xml:lang"]}else{N=L[0].getAttribute("lang");try{N=(N===null||N==="")?L[0].getAttribute("xml:lang"):N}catch(M){}N=(N===null||N==="")?undefined:N}if(N===undefined){if(K.lang){N=K.lang}else{if(L[0].parentNode.nodeType===1){N=u(L.parent())}}}return N},s=function(K){switch(K){case"<":return"&lt;";case'"':return"&quot;";case"&":return"&amp;"}},B=function(L,M){var N,O="",P,R,K,Q,S;L.contents().each(function(){var T=j(this),U=T[0];if(U.nodeType===1){K=U.nodeName.toLowerCase();O+="<"+K;if(U.outerHTML){S=/<[^>]+>/.exec(U.outerHTML);R=A.exec(S);while(R!==null){if(!/^jQuery/.test(R[1])){O+=" "+R[1]+"=";O+=R[2]?R[3]:'"'+R[1]+'"'}R=A.exec(S)}A.lastIndex=0}else{P=U.attributes;for(N=0;N<P.length;N+=1){R=P.item(N);O+=" "+R.nodeName+'="';O+=R.nodeValue.replace(/[<"&]/g,s);O+='"'}}if(!M){Q=T.xmlns("");if(Q!==undefined&&T.attr("xmlns")===undefined){O+=' xmlns="'+Q+'"'}}O+=">";O+=B(T,true);O+="</"+K+">"}else{if(U.nodeType===8){O+="<!--";O+=U.nodeValue;O+="-->"}else{O+=U.nodeValue}}});return O},H=function(M){var ad,Q,K,ai,X,ac,Y,W,ag,ae,U,R,N,Z,V,S,ab=[],P,af,L,aa,T,ah,O=this.children();M=M||{};V=M.forward||[];S=M.backward||[];P=M.callback||function(){return this};L=z(this);aa=L.atts;M.atts=aa;T=M.namespaces||this.xmlns();if(L.namespaces[":length"]>0){T=j.extend({},T);for(ah in L.namespaces){if(ah!==":length"){T[ah]=L.namespaces[ah]}}}M.curieOptions=j.extend({},m,{reserved:[],namespaces:T,base:this.base()});af=j.extend({},M.curieOptions,{reserved:I});Q=w(this,M);ai=u(this,M);if(Q.skip){N=M.forward;Z=M.backward;Q=M.subject;K=M.object}else{Q=Q.subject;if(V.length>0||S.length>0){U=M.subject||w(this.parent()).subject;for(ad=0;ad<V.length;ad+=1){ae=j.rdf.triple(U,V[ad],Q,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}for(ad=0;ad<S.length;ad+=1){ae=j.rdf.triple(Q,S[ad],U,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}}K=C(this,M);W=r(aa["typeof"],this,false,M.curieOptions);for(ad=0;ad<W.length;ad+=1){ae=j.rdf.triple(Q,j.rdf.type,W[ad],{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}R=r(aa.property,this,true,M.curieOptions);if(R.length>0){X=aa.datatype;ac=aa.content;Y=this.text().replace(/"/g,'\\"');if(X!==undefined&&X!==""){X=j.curie(X,M.curieOptions);if(X.toString()===G){ag=j.rdf.literal(B(this),{datatype:G})}else{if(ac!==undefined){ag=j.rdf.literal(ac,{datatype:X})}else{ag=j.rdf.literal(Y,{datatype:X})}}}else{if(ac!==undefined){if(ai===undefined){ag=j.rdf.literal('"'+ac+'"')}else{ag=j.rdf.literal(ac,{lang:ai})}}else{if(O.length===0||X===""){ai=u(this,M);if(ai===undefined){ag=j.rdf.literal('"'+Y+'"')}else{ag=j.rdf.literal(Y,{lang:ai})}}else{ag=j.rdf.literal(B(this),{datatype:G})}}}for(ad=0;ad<R.length;ad+=1){ae=j.rdf.triple(Q,R[ad],ag,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}}N=r(aa.rel,this,true,af);Z=r(aa.rev,this,true,af);if(aa.resource!==undefined||aa.href!==undefined){if(N!==undefined){for(ad=0;ad<N.length;ad+=1){ae=j.rdf.triple(Q,N[ad],K,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}}N=[];if(Z!==undefined){for(ad=0;ad<Z.length;ad+=1){ae=j.rdf.triple(K,Z[ad],Q,{source:this[0]});ae=P.call(ae,this.get(0),ae);if(ae!==undefined&&ae!==null){ab=ab.concat(ae)}}}Z=[]}}O.each(function(){ab=ab.concat(H.call(j(this),{forward:N,backward:Z,subject:Q,object:K||Q,lang:ai,namespaces:T,callback:P}))});return ab},y=function(K){var L,M;if(K&&K.about!==undefined){M=z(this).atts;if(K.about===null){return M.property!==undefined||M.rel!==undefined||M.rev!==undefined||M["typeof"]!==undefined}else{return w(this,{atts:M}).subject.value===K.about}}else{if(K&&K.type!==undefined){L=D(this,"typeof");if(L!==undefined){return K.type===null?true:this.curie(L)===K.type}return false}else{return H.call(this,K)}}},F=1,t=function(O,L,N){var K,M,P;try{M=O.createCurie(N)}catch(Q){if(N.toString()===G){O.attr("xmlns:rdf",J.rdf);M="rdf:XMLLiteral"}else{K=/^(.+[\/#])([^#]+)$/.exec(N);O.attr("xmlns:ns"+F,K[1]);M="ns"+F+":"+K[2];F+=1}}P=D(O,L);if(P!==undefined){if(j.inArray(M,P.split(/\s+/))===-1){O.attr(L,P+" "+M)}}else{O.attr(L,M)}},o=function(M,K,N){var L;if(N.type==="bnode"){L="[_:"+N.id+"]"}else{L=j(M).base().relative(N.value)}M.attr(K,L)},b=function(M,K){var L=w(M).subject;if(K!==L){o(M,"about",K)}M.removeData("rdfa.subject")},c=function(L,K){var M=C(L);if(K!==M){o(L,"resource",K)}L.removeData("rdfa.objectResource")},a=function(K,L){K.wrapInner("<span></span>").children("span").attr("lang",L);return K},k=function(V){var P,S,L,O,Y,W,M,Q,K,N,U,R,T,X=this.xmlns();Y=this;T=z(this).atts;if(typeof V==="string"){V=j.rdf.triple(V,{namespaces:X,base:this.base()})}else{if(V.rdfquery){k.call(this,V.sources().get(0));return this}else{if(V.length){for(R=0;R<V.length;R+=1){k.call(this,V[R])}return this}}}S=T.rel!==undefined||T.rev!==undefined;L=S||T.property!==undefined||T["typeof"]!==undefined;if(V.object.type!=="literal"){W=w(this,{atts:T},true).subject;Q=C(this,{atts:T},true);O=!L&&T.resource===undefined;M=W===V.subject;K=Q===V.object;if(V.property===j.rdf.type){if(M){t(this,"typeof",V.object.value)}else{if(L){Y=this.wrapInner("<span />").children("span");t(Y,"typeof",V.object.value);if(Q!==V.subject){b(Y,V.subject)}}else{t(this,"typeof",V.object.value);b(this,V.subject)}}}else{if(M){if(K){t(this,"rel",V.property.value)}else{if(O||!L){t(this,"rel",V.property.value);c(this,V.object)}else{Y=this.wrap("<span />").parent();t(Y,"rev",V.property.value);b(Y,V.object)}}}else{if(W===V.object){if(Q===V.subject){t(this,"rev",V.property.value)}else{if(O||!L){t(this,"rev",V.property.value);c(this,V.subject)}else{Y=this.wrap("<span />").parent();t(Y,"rel",V.property.value);b(Y,V.subject)}}}else{if(K){if(L){Y=this.wrapInner("<span />").children("span");t(Y,"rev",V.property.value);c(Y,V.subject);Y=Y.wrapInner("<span />").children("span");b(Y,V.object);Y=this}else{b(this,V.subject);t(this,"rel",V.property.value)}}else{if(Q===V.subject){if(L){Y=this.wrapInner("<span />").children("span");t(Y,"rel",this.property.value);c(Y,V.object);Y=Y.wrapInner("<span />").children("span");b(Y,Q);Y=this}else{b(this,V.object);t(this,"rev",V.property.value)}}else{if(L){Y=this.wrapInner("<span />").children("span");t(Y,"rel",V.property.value);b(Y,V.subject);c(Y,V.object);if(Y.children("*").length>0){Y=this.wrapInner("<span />").children("span");b(Y,W)}Y=this}else{t(Y,"rel",V.property.value);b(this,V.subject);c(this,V.object);if(this.children("*").length>0){Y=this.wrapInner("<span />").children("span");b(Y,W);Y=this}}}}}}}}else{W=w(this,{atts:T}).subject;Q=C(this,{atts:T});M=W===V.subject;P=this.text()!==V.object.value;if(T.property!==undefined){U=T.content;K=U!==undefined?U===V.object.value:!P;if(M&&K){t(this,"property",V.property.value)}else{Y=this.wrapInner("<span />").children("span");return k.call(Y,V)}}else{if(Q===V.subject){Y=this.wrapInner("<span />").children("span");return k.call(Y,V)}t(this,"property",V.property.value);b(this,V.subject);if(P){if(V.object.datatype&&V.object.datatype.toString()===G){this.html(V.object.value)}else{this.attr("content",V.object.value)}}N=u(this);if(V.object.lang){if(N!==V.object.lang){this.attr("lang",V.object.lang);if(P){a(this,N)}}}else{if(V.object.datatype){t(this,"datatype",V.object.datatype)}else{if(!P){this.attr("datatype","")}if(N!==undefined){this.attr("lang","");if(P){a(this,N)}}}}}}this.parents().andSelf().trigger("rdfChange");return Y},n=function(Q){var O,R,P,K,L,N,M=this.xmlns();R=z(this).atts;if(Q.length){for(i=0;i<Q.length;i+=1){n.call(this,Q[i])}return this}hasRelation=R.rel!==undefined||R.rev!==undefined;hasRDFa=hasRelation||R.property!==undefined||R["typeof"]!==undefined;if(hasRDFa){if(Q.property!==undefined){if(R.property!==undefined){P=g(R.property,Q.property,{namespaces:M});if(P===""){this.removeAttr("property")}else{this.attr("property",P)}}if(R.rel!==undefined){K=g(R.rel,Q.property,{namespaces:M});if(K===""){this.removeAttr("rel")}else{this.attr("rel",K)}}if(R.rev!==undefined){L=g(R.rev,Q.property,{namespaces:M});if(L===""){this.removeAttr("rev")}else{this.attr("rev",L)}}}if(Q.type!==undefined){if(R["typeof"]!==undefined){N=g(R["typeof"],Q.type,{namespaces:M});if(N===""){this.removeAttr("typeof")}else{this.attr("typeof",N)}}}if(R.property===this.attr("property")&&R.rel===this.attr("rel")&&R.rev===this.attr("rev")&&R["typeof"]===this.attr("typeof")){return n.call(this.parent(),Q)}}this.parents().andSelf().trigger("rdfChange");return this};j.fn.rdfa=function(K){if(K===undefined){var L=j.map(j(this),function(M){return H.call(j(M))});return j.rdf({triples:L})}else{j(this).each(function(){k.call(j(this),K)});return this}};j.fn.removeRdfa=function(K){j(this).each(function(){n.call(j(this),K)});return this};j.rdf.gleaners.push({name:"rdfa",gleaner:y})})(jQuery);(function(d){var m={schema:"http://schema.org/"},g=function(){if(this.attr("itemid")){return d.rdf.resource("<"+this.attr("itemid")+">")}else{return d.rdf.blank("[]")}},e=function(){var o=this.attr("itemtype");if(o){return d.rdf.resource("<"+o+">")}else{return d.rdf.resource("<"+m.schema+"Thing>")}},l=function(){var o=this.attr("itemprop");if(o){return d.rdf.resource("<"+m.schema+o+">")}return undefined},b=function(o){return"<"+o+">"},a=function(){var o=this.get(0).nodeName.toLowerCase();var q;if(o==="meta"){return d.rdf.literal(this.attr("content")===undefined?'""':this.attr("content"))}else{if(o==="audio"||o==="embed"||o==="iframe"||o==="img"||o==="source"||o==="track"||o==="video"){if(this.attr("src")){return d.rdf.resource(b(this.attr("src")))}else{return d.rdf.resource("<>")}}else{if(o==="a"||o==="area"||o==="link"){if(this.attr("href")){return d.rdf.resource(b(this.attr("href")))}else{return d.rdf.resource("<>")}}else{if(o==="object"){if(this.attr("data")){return d.rdf.resource(b(this.attr("data")))}else{return d.rdf.resource("<>")}}else{if(o==="time"&&this.attr("datetime")!==undefined){if(this.attr("datetime")){return d.rdf.literal('"'+this.attr("datetime")+'"')}else{return d.rdf.literal('""')}}else{return d.rdf.literal('"'+this.text()+'"')}}}}}},k=function(q){var w=[];var s=l.call(this);if(s!==undefined){if(this.attr("itemscope")===undefined){var r=a.call(this);var u=d.rdf.triple(q.subject,s,r,{namespaces:m});w.push(u)}else{var o=c.call(this,{subject:q.subject,property:s});w=w.concat(o.triples);return w}}var t=d.map(this.children(),function(x){return k.call(d(x),q)});w=w.concat(t);return w},c=function(s){var w=[];if(!s){s={}}var r=g.call(this);if(s.subject&&s.property){w.push(d.rdf.triple(s.subject,s.property,r,{namespaces:m}))}var t=e.call(this);w.push(d.rdf.triple(r,d.rdf.type,t,{namespaces:m}));if(this.attr("itemref")!==undefined){var o=d.map(this.attr("itemref").split(" "),function(y,x){return"#"+y}).join(", ");var q=k.call(d(o),{subject:r});w=w.concat(q)}var u=d.map(this.children(),function(x){return k.call(d(x),{subject:r})});w=w.concat(u);return{triples:w}},j=function(o){if(this.attr("itemscope")===undefined){console.log("[DEBUG]","No itemscope attribute found!");return[]}else{var q=c.call(d(this)).triples;console.log("[DEBUG]","Extracted ",q.length," triple(s)!",q);return q}},n=function(o){if(o&&o.about!==undefined){if(o.about===null){return this.attr("itemprop")!==undefined||this.attr("itemref")!==undefined||this.attr("itemtype")!==undefined}else{return g.call(this)===o.about}}else{if(o&&o.type!==undefined){var q=e.call(this);if(q!==undefined){return o.type===null?true:(q===o.type)}return false}else{return j.call(this,o)}}},h=function(o){return this},f=function(o){return this};d.fn.microdata=function(q,o){if(q===undefined){var r=d.map(d(this),function(s){return j.call(d(s))});return d.rdf({triples:r})}else{d(this).each(function(){h.call(d(this),q,o)});return this}};d.fn.removeMicrodata=function(o){d(this).each(function(){f.call(d(this),o)});return this};d.rdf.gleaners.push({name:"microdata",gleaner:n})})(jQuery);(function(b){var a=1;b.rdf.ruleset=function(d,c){return new b.rdf.ruleset.fn.init(d,c)};b.rdf.ruleset.fn=b.rdf.ruleset.prototype={init:function(f,c){var d,e=b.extend({},b.rdf.ruleset.defaults,c);f=f||[];this.baseURI=e.base;this.namespaces=b.extend({},e.namespaces);this.rules=[];for(d=0;d<f.length;d+=1){this.add.apply(this,f[d])}return this},base:function(c){if(c===undefined){return this.baseURI}else{this.baseURI=c;return this}},prefix:function(d,c){if(d===undefined){return this.namespaces}else{if(c===undefined){return this.namespaces[d]}else{this.namespaces[d]=c;return this}}},size:function(){return this.rules.length},add:function(c,e){var d;if(e===undefined&&c.rules){this.rules=this.rules.concat(c.rules)}else{if(e===undefined&&c.lhs){d=c}else{d=b.rdf.rule(c,e,{namespaces:this.prefix(),base:this.base()})}if(b.inArray(d,this.rules)===-1){this.rules.push(d)}}return this},run:function(j,e){var f,h,d,g=b.extend({limit:50},e),c=g.limit;do{d=j.size();for(f=0;f<this.rules.length;f+=1){h=this.rules[f];h.run(j)}c-=1}while(j.size()>d&&c>0);return this}};b.rdf.ruleset.fn.init.prototype=b.rdf.ruleset.fn;b.rdf.ruleset.defaults={base:b.uri.base(),namespaces:{}};b.rdf.rule=function(c,e,d){return new b.rdf.rule.fn.init(c,e,d)};b.rdf.rule.fn=b.rdf.rule.prototype={init:function(c,h,e){var f=b.extend({},b.rdf.rule.defaults,e),g=[],d=false;if(typeof c==="string"){c=[c]}if(typeof h==="string"){h=[h]}this.lhs=b.map(c,function(j){if(b.isArray(j)){return[j]}else{if(b.isFunction(j)){return j}else{j=b.rdf.pattern(j,f);if(typeof j.subject==="string"){g.push(j.subject)}if(typeof j.property==="string"){g.push(j.property)}if(typeof j.object==="string"){g.push(j.object)}return j}}});g=b.unique(g);if(b.isFunction(h)){this.rhs=h}else{this.rhs=b.map(h,function(j){j=b.rdf.pattern(j,f);if((typeof j.subject==="string"&&b.inArray(j.subject,g)===-1)||(typeof j.property==="string"&&b.inArray(j.property,g)===-1)||(typeof j.object==="string"&&b.inArray(j.object,g)===-1)){throw"Bad Rule: Right-hand side of the rule contains a reference to an unbound wildcard"}else{if(j.subject.type==="bnode"||j.property.type==="bnode"||j.object.type==="bnode"){d=true}}return j})}this.rhsBlanks=d;this.cache={};return this},run:function(B,e){var f=b.rdf({databank:B}),x,g=b.extend({limit:50},e),z=g.limit,d,w,u,y,h,n,r,m,A=this.rhsBlanks,k,c,t,l;if(this.cache[B.id]===undefined){this.cache[B.id]={}}for(w=0;w<this.lhs.length;w+=1){x=this.lhs[w];if(b.isArray(x)){f=f.filter.apply(f,x)}else{if(b.isFunction(x)){f=f.filter.call(f,x)}else{f=f.where(this.lhs[w])}}}do{d=f.length;c=f.sources();for(w=0;w<d;w+=1){t=c[w];l=true;k=this.cache[B.id];for(u=0;u<t.length;u+=1){if(k[t[u]]===undefined){k[t[u]]={}}else{if(u===t.length-1){l=false}}k=k[t[u]]}if(l){m=f.eq(w);if(A){for(u=0;u<this.rhs.length;u+=1){y=this.rhs[u];h=y.subject;n=y.property;r=y.object;if(h.type==="bnode"){h=b.rdf.blank(""+h+a)}if(n.type==="bnode"){n=b.rdf.blank(""+n+a)}if(r.type==="bnode"){r=b.rdf.blank(""+r+a)}y=b.rdf.pattern(h,n,r);m.add(y)}a+=1}else{if(b.isFunction(this.rhs)){m.map(this.rhs)}else{for(u=0;u<this.rhs.length;u+=1){m.add(this.rhs[u])}}}}}z-=1}while(f.length>d&&z>0);return this}};b.rdf.rule.fn.init.prototype=b.rdf.rule.fn;b.rdf.rule.defaults={base:b.uri.base(),namespaces:{}};b.extend(b.rdf.databank.fn,{reason:function(d,c){d.run(this,c);return this}});b.extend(b.rdf.fn,{reason:function(d,c){d.run(this.databank,c);return this}})})(jQuery);