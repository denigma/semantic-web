!function(){Batman.extend(Batman.DOM,{querySelectorAll:function(e,t){return jQuery(t,e)},querySelector:function(e,t){return jQuery(t,e)[0]},setInnerHTML:function(e,t){return jQuery(e).html(t)},destroyNode:function(e){Batman.DOM.cleanupNode(e),jQuery(e).remove()},containsNode:function(e,t){return t||(t=e,e=document.body),$.contains(e,t)},textContent:function(e){return jQuery(e).text()},addEventListener:function(e,t,n){return $(e).on(t,n)},removeEventListener:function(e,t,n){return $(e).off(t,n)}}),Batman.View.accessor("$node",function(){return this.get("node")?$(this.node):void 0}),Batman.extend(Batman.Request.prototype,{_parseResponseHeaders:function(e){var t;return t=e.getAllResponseHeaders().split("\n").reduce(function(e,t){var n,r,s;return(r=t.match(/([^:]*):\s*(.*)/))&&(n=r[1],s=r[2],e[n]=s),e},{})},_prepareOptions:function(e){var t,n,r=this;return t={url:this.get("url"),type:this.get("method"),dataType:this.get("type"),data:e||this.get("data"),username:this.get("username"),password:this.get("password"),headers:this.get("headers"),beforeSend:function(){return r.fire("loading")},success:function(e,t,n){return r.mixin({xhr:n,status:n.status,response:e,responseHeaders:r._parseResponseHeaders(n)}),r.fire("success",e)},error:function(e){return r.mixin({xhr:e,status:e.status,response:e.responseText,responseHeaders:r._parseResponseHeaders(e)}),e.request=r,r.fire("error",e)},complete:function(){return r.fire("loaded")}},("PUT"===(n=this.get("method"))||"POST"===n)&&(this.hasFileUploads()?(t.contentType=!1,t.processData=!1,t.data=this.constructor.objectToFormData(t.data)):(t.contentType=this.get("contentType"),"object"==typeof t.data&&(t.processData=!1,t.data=Batman.URI.queryFromParams(t.data)))),t},send:function(e){return jQuery.ajax(this._prepareOptions(e))}})}.call(this),function(){}.call(this);